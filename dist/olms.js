!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ol/format/GeoJSON.js"),require("ol/format/MVT.js"),require("ol/Map.js"),require("ol/tilegrid/TileGrid.js"),require("ol/source/TileJSON.js"),require("ol/layer/Tile.js"),require("ol/layer/Vector.js"),require("ol/source/Vector.js"),require("ol/layer/VectorTile.js"),require("ol/source/VectorTile.js"),require("ol/View.js"),require("ol/style/Circle.js"),require("ol/style/Fill.js"),require("ol/style/Icon.js"),require("ol/render/Feature.js"),require("ol/style/Stroke.js"),require("ol/style/Style.js"),require("ol/style/Text.js"),require("ol/tilegrid.js"),require("ol/proj.js"),require("ol/Observable.js")):"function"==typeof define&&define.amd?define(["ol/format/GeoJSON.js","ol/format/MVT.js","ol/Map.js","ol/tilegrid/TileGrid.js","ol/source/TileJSON.js","ol/layer/Tile.js","ol/layer/Vector.js","ol/source/Vector.js","ol/layer/VectorTile.js","ol/source/VectorTile.js","ol/View.js","ol/style/Circle.js","ol/style/Fill.js","ol/style/Icon.js","ol/render/Feature.js","ol/style/Stroke.js","ol/style/Style.js","ol/style/Text.js","ol/tilegrid.js","ol/proj.js","ol/Observable.js"],t):"object"==typeof exports?exports.olms=t(require("ol/format/GeoJSON.js"),require("ol/format/MVT.js"),require("ol/Map.js"),require("ol/tilegrid/TileGrid.js"),require("ol/source/TileJSON.js"),require("ol/layer/Tile.js"),require("ol/layer/Vector.js"),require("ol/source/Vector.js"),require("ol/layer/VectorTile.js"),require("ol/source/VectorTile.js"),require("ol/View.js"),require("ol/style/Circle.js"),require("ol/style/Fill.js"),require("ol/style/Icon.js"),require("ol/render/Feature.js"),require("ol/style/Stroke.js"),require("ol/style/Style.js"),require("ol/style/Text.js"),require("ol/tilegrid.js"),require("ol/proj.js"),require("ol/Observable.js")):e.olms=t(e["ol.format.GeoJSON"],e["ol.format.MVT"],e["ol.Map"],e["ol.tilegrid.TileGrid"],e["ol.source.TileJSON"],e["ol.layer.Tile"],e["ol.layer.Vector"],e["ol.source.Vector"],e["ol.layer.VectorTile"],e["ol.source.VectorTile"],e["ol.View"],e["ol.style.Circle"],e["ol.style.Fill"],e["ol.style.Icon"],e["ol.render.Feature"],e["ol.style.Stroke"],e["ol.style.Style"],e["ol.style.Text"],e["ol.tilegrid"],e["ol.proj"],e["ol.Observable"])}(self,(function(e,t,r,n,i,a,o,s,u,l,p,c,d,f,y,m,h,v,g,b,x){return(()=>{var k={658:e=>{"use strict";function t(e,t){this.x=e,this.y=t}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,i=r*this.x+t*this.y;return this.x=n,this.y=i,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.x+r*(this.x-t.x)-n*(this.y-t.y),a=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},462:e=>{function t(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}e.exports=t,t.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},t.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},t.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},t.prototype.solveCurveX=function(e,t){var r,n,i,a,o;for(void 0===t&&(t=1e-6),i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if((i=e)<(r=0))return r;if(i>(n=1))return n;for(;r<n;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?r=i:n=i,i=.5*(n-r)+r}return i},t.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},392:(e,t)=>{var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function i(e){return e<0?0:e>1?1:e}function a(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function o(e){return"%"===e[e.length-1]?i(parseFloat(e)/100):i(parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.G=function(e){var t,i=e.replace(/ /g,"").toLowerCase();if(i in r)return r[i].slice();if("#"===i[0])return 4===i.length?(t=parseInt(i.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===i.length&&(t=parseInt(i.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var p=i.substr(0,u),c=i.substr(u+1,l-(u+1)).split(","),d=1;switch(p){case"rgba":if(4!==c.length)return null;d=o(c.pop());case"rgb":return 3!==c.length?null:[a(c[0]),a(c[1]),a(c[2]),d];case"hsla":if(4!==c.length)return null;d=o(c.pop());case"hsl":if(3!==c.length)return null;var f=(parseFloat(c[0])%360+360)%360/360,y=o(c[1]),m=o(c[2]),h=m<=.5?m*(y+1):m+y-m*y,v=2*m-h;return[n(255*s(v,h,f+1/3)),n(255*s(v,h,f)),n(255*s(v,h,f-1/3)),d];default:return null}}return null}}catch(e){}},51:e=>{var t={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},r=" ",n=/(italic|oblique)$/i,i={};e.exports=function(e,a,o){var s=i[e];if(!s){Array.isArray(e)||(e=[e]);for(var u=400,l="normal",p=[],c=0,d=e.length;c<d;++c){var f=e[c].split(" "),y=f[f.length-1].toLowerCase();for(var m in"normal"==y||"italic"==y||"oblique"==y?(l=y,f.pop(),y=f[f.length-1].toLowerCase()):n.test(y)&&(y=y.replace(n,""),l=f[f.length-1].replace(y,"")),t){var h=f.length>1?f[f.length-2].toLowerCase():"";if(y==m||y==m.replace("-","")||h+"-"+y==m){u=t[m],f.pop(),h&&m.startsWith(h)&&f.pop();break}}"number"==typeof y&&(u=y);var v=f.join(r).replace("Klokantech Noto Sans","Noto Sans");-1!==v.indexOf(r)&&(v='"'+v+'"'),p.push(v)}s=i[e]=[l,u,p]}return s[0]+r+s[1]+r+a+"px"+(o?"/"+o:"")+r+s[2]}},619:function(e){(function(){var t;e.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return t},getLink:function(e){return"https://fonts.google.com/specimen/"+e.replace(/( )/g,"+")},normalizeName:function(e){return e}},t=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},395:e=>{"use strict";e.exports=r},248:e=>{"use strict";e.exports=x},457:e=>{"use strict";e.exports=p},708:t=>{"use strict";t.exports=e},981:e=>{"use strict";e.exports=t},317:e=>{"use strict";e.exports=a},168:e=>{"use strict";e.exports=o},383:e=>{"use strict";e.exports=u},158:e=>{"use strict";e.exports=b},60:e=>{"use strict";e.exports=y},479:e=>{"use strict";e.exports=i},524:e=>{"use strict";e.exports=s},215:e=>{"use strict";e.exports=l},197:e=>{"use strict";e.exports=c},983:e=>{"use strict";e.exports=d},260:e=>{"use strict";e.exports=f},889:e=>{"use strict";e.exports=m},256:e=>{"use strict";e.exports=h},306:e=>{"use strict";e.exports=v},878:e=>{"use strict";e.exports=g},173:e=>{"use strict";e.exports=n}},j={};function w(e){var t=j[e];if(void 0!==t)return t.exports;var r=j[e]={exports:{}};return k[e].call(r.exports,r,r.exports,w),r.exports}w.d=(e,t)=>{for(var r in t)w.o(t,r)&&!w.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},w.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),w.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var S={};return(()=>{"use strict";w.d(S,{default:()=>di});var e={};w.r(e),w.d(e,{array:()=>tt,color:()=>et,number:()=>Qe});var t={};w.r(t),w.d(t,{hcl:()=>vt,lab:()=>ht});var r=w(392),n=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};n.parse=function(e){if(e){if(e instanceof n)return e;if("string"==typeof e){var t=(0,r.G)(e);if(t)return new n(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},n.prototype.toString=function(){var e=this.toArray(),t=e[0],r=e[1],n=e[2],i=e[3];return"rgba("+Math.round(t)+","+Math.round(r)+","+Math.round(n)+","+i+")"},n.prototype.toArray=function(){var e=this,t=e.r,r=e.g,n=e.b,i=e.a;return 0===i?[0,0,0,0]:[255*t/i,255*r/i,255*n/i,i]},n.black=new n(0,0,0,1),n.white=new n(1,1,1,1),n.transparent=new n(0,0,0,0),n.red=new n(1,0,0,1),n.blue=new n(0,0,1,1);const i=n;var a=w(708),o=w(981),s=w(395),u=w(173),l=w(479),p=w(317),c=w(168),d=w(524),f=w(383),y=w(215),m=w(457),h=w(197),v=w(983),g=w(260),b=w(60),x=w(889),k=w(256),j=w(306);function z(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,i=t;n<i.length;n+=1){var a=i[n];for(var o in a)e[o]=a[o]}return e}const M=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);var C=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var i=n[r],a=i[0],o=i[1];this.bindings[a]=o}};C.prototype.concat=function(e){return new C(this,e)},C.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},C.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};const _=C;var O={kind:"null"},A={kind:"number"},T={kind:"string"},q={kind:"boolean"},E={kind:"color"},P={kind:"object"},D={kind:"value"},F={kind:"collator"},I={kind:"formatted"},L={kind:"resolvedImage"};function N(e,t){return{kind:"array",itemType:e,N:t}}function R(e){if("array"===e.kind){var t=R(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var G=[O,A,T,q,E,I,P,N(D),L];function B(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!B(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=G;r<n.length;r+=1)if(!B(n[r],t))return null}return"Expected "+R(e)+" but found "+R(t)+" instead."}function V(e,t){return t.some((function(t){return t.kind===e.kind}))}function J(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var H=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};H.prototype.compare=function(e,t){return this.collator.compare(e,t)},H.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};const U=H;var K=function(e,t,r,n,i){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i},W=function(e){this.sections=e};W.fromString=function(e){return new W([new K(e,null,null,null,null)])},W.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},W.factory=function(e){return e instanceof W?e:W.fromString(e)},W.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},W.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];if(n.image)e.push(["image",n.image.name]);else{e.push(n.text);var i={};n.fontStack&&(i["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(i["font-scale"]=n.scale),n.textColor&&(i["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(i)}}return e};const Z=W;var $=function(e){this.name=e.name,this.available=e.available};$.prototype.toString=function(){return this.name},$.fromString=function(e){return e?new $({name:e,available:!1}):null},$.prototype.serialize=function(){return["image",this.name]};const Y=$;function X(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Q(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof i)return!0;if(e instanceof U)return!0;if(e instanceof Z)return!0;if(e instanceof Y)return!0;if(Array.isArray(e)){for(var t=0,r=e;t<r.length;t+=1)if(!Q(r[t]))return!1;return!0}if("object"==typeof e){for(var n in e)if(!Q(e[n]))return!1;return!0}return!1}function ee(e){if(null===e)return O;if("string"==typeof e)return T;if("boolean"==typeof e)return q;if("number"==typeof e)return A;if(e instanceof i)return E;if(e instanceof U)return F;if(e instanceof Z)return I;if(e instanceof Y)return L;if(Array.isArray(e)){for(var t,r=e.length,n=0,a=e;n<a.length;n+=1){var o=ee(a[n]);if(t){if(t===o)continue;t=D;break}t=o}return N(t||D,r)}return P}function te(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof i||e instanceof Z||e instanceof Y?e.toString():JSON.stringify(e)}var re=function(e,t){this.type=e,this.value=t};re.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!Q(e[1]))return t.error("invalid value");var r=e[1],n=ee(r),i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new re(n,r)},re.prototype.evaluate=function(){return this.value},re.prototype.eachChild=function(){},re.prototype.outputDefined=function(){return!0},re.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof i?["rgba"].concat(this.value.toArray()):this.value instanceof Z?this.value.serialize():this.value};const ne=re;var ie=function(e){this.name="ExpressionEvaluationError",this.message=e};ie.prototype.toJSON=function(){return this.message};const ae=ie;var oe={string:T,number:A,boolean:q,object:P},se=function(e,t){this.type=e,this.args=t};se.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,i=e[0];if("array"===i){var a,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in oe)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=oe[s],n++}else a=D;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=N(a,o)}else r=oe[i];for(var u=[];n<e.length;n++){var l=t.parse(e[n],n,D);if(!l)return null;u.push(l)}return new se(r,u)},se.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!B(this.type,ee(r)))return r;if(t===this.args.length-1)throw new ae("Expected value to be of type "+R(this.type)+", but found "+R(ee(r))+" instead.")}return null},se.prototype.eachChild=function(e){this.args.forEach(e)},se.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},se.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))};const ue=se;var le=function(e){this.type=I,this.sections=e};le.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var n=[],i=!1,a=1;a<=e.length-1;++a){var o=e[a];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,A)))return null;var u=null;if(o["text-font"]&&!(u=t.parse(o["text-font"],1,N(T))))return null;var l=null;if(o["text-color"]&&!(l=t.parse(o["text-color"],1,E)))return null;var p=n[n.length-1];p.scale=s,p.font=u,p.textColor=l}else{var c=t.parse(e[a],1,D);if(!c)return null;var d=c.type.kind;if("string"!==d&&"value"!==d&&"null"!==d&&"resolvedImage"!==d)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:c,scale:null,font:null,textColor:null})}}return new le(n)},le.prototype.evaluate=function(e){return new Z(this.sections.map((function(t){var r=t.content.evaluate(e);return ee(r)===L?new K("",r,null,null,null):new K(te(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},le.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}},le.prototype.outputDefined=function(){return!1},le.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.content.serialize());var i={};n.scale&&(i["font-scale"]=n.scale.serialize()),n.font&&(i["text-font"]=n.font.serialize()),n.textColor&&(i["text-color"]=n.textColor.serialize()),e.push(i)}return e};const pe=le;var ce=function(e){this.type=L,this.input=e};ce.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,T);return r?new ce(r):t.error("No image name provided.")},ce.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=Y.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r},ce.prototype.eachChild=function(e){e(this.input)},ce.prototype.outputDefined=function(){return!1},ce.prototype.serialize=function(){return["image",this.input.serialize()]};const de=ce;var fe={"to-boolean":q,"to-color":E,"to-number":A,"to-string":T},ye=function(e,t){this.type=e,this.args=t};ye.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=fe[r],i=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,D);if(!o)return null;i.push(o)}return new ye(n,i)},ye.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,a=this.args;n<a.length;n+=1){if(r=null,(t=a[n].evaluate(e))instanceof i)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":X(t[0],t[1],t[2],t[3])))return new i(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ae(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var s=null,u=0,l=this.args;u<l.length;u+=1){if(null===(s=l[u].evaluate(e)))return 0;var p=Number(s);if(!isNaN(p))return p}throw new ae("Could not convert "+JSON.stringify(s)+" to number.")}return"formatted"===this.type.kind?Z.fromString(te(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Y.fromString(te(this.args[0].evaluate(e))):te(this.args[0].evaluate(e))},ye.prototype.eachChild=function(e){this.args.forEach(e)},ye.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ye.prototype.serialize=function(){if("formatted"===this.type.kind)return new pe([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new de(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};const me=ye;var he=["Unknown","Point","LineString","Polygon"],ve=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null};ve.prototype.id=function(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null},ve.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?he[this.feature.type]:this.feature.type:null},ve.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ve.prototype.canonicalID=function(){return this.canonical},ve.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ve.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,r=this.featureTileCoord,n=r.x,i=r.y,a=n*t-e[0],o=i*t-e[1];return this.featureDistanceData.bearing[0]*a+this.featureDistanceData.bearing[1]*o}return 0},ve.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=i.parse(e)),t};const ge=ve;var be=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};be.prototype.evaluate=function(e){return this._evaluate(e,this.args)},be.prototype.eachChild=function(e){this.args.forEach(e)},be.prototype.outputDefined=function(){return!1},be.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},be.parse=function(e,t){var r,n=e[0],i=be.definitions[n];if(!i)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1})),u=null,l=0,p=s;l<p.length;l+=1){var c=p[l],d=c[0],f=c[1];u=new Ke(t.registry,t.path,null,t.scope);for(var y=[],m=!1,h=1;h<e.length;h++){var v=e[h],g=Array.isArray(d)?d[h-1]:d.type,b=u.parse(v,1+y.length,g);if(!b){m=!0;break}y.push(b)}if(!m)if(Array.isArray(d)&&d.length!==y.length)u.error("Expected "+d.length+" arguments, but found "+y.length+" instead.");else{for(var x=0;x<y.length;x++){var k=Array.isArray(d)?d[x]:d.type,j=y[x];u.concat(x+1).checkSubtype(k,j.type)}if(0===u.errors.length)return new be(n,a,f,y)}}if(1===s.length)(r=t.errors).push.apply(r,u.errors);else{for(var w=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(R).join(", ")+")":"("+R(t.type)+"...)"})).join(" | "),S=[],z=1;z<e.length;z++){var M=t.parse(e[z],1+S.length);if(!M)return null;S.push(R(M.type))}t.error("Expected arguments of type "+w+", but found ("+S.join(", ")+") instead.")}return null},be.register=function(e,t){for(var r in be.definitions=t,t)e[r]=be};const xe=be;var ke=function(e,t,r){this.type=F,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};ke.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,q);if(!n)return null;var i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,q);if(!i)return null;var a=null;return r.locale&&!(a=t.parse(r.locale,1,T))?null:new ke(n,i,a)},ke.prototype.evaluate=function(e){return new U(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},ke.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},ke.prototype.outputDefined=function(){return!1},ke.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};const je=ke;w(658);var we=8192;function Se(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function ze(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Me(e,t){var r,n=(180+e[0])/360,i=(r=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360),a=Math.pow(2,t.z);return[Math.round(n*a*we),Math.round(i*a*we)]}function Ce(e,t,r){return t[1]>e[1]!=r[1]>e[1]&&e[0]<(r[0]-t[0])*(e[1]-t[1])/(r[1]-t[1])+t[0]}function _e(e,t){for(var r,n,i,a,o,s,u,l=!1,p=0,c=t.length;p<c;p++)for(var d=t[p],f=0,y=d.length;f<y-1;f++){if(r=e,n=d[f],i=d[f+1],void 0,void 0,void 0,void 0,a=r[0]-n[0],o=r[1]-n[1],s=r[0]-i[0],a*(u=r[1]-i[1])-s*o==0&&a*s<=0&&o*u<=0)return!1;Ce(e,d[f],d[f+1])&&(l=!l)}return l}function Oe(e,t){for(var r=0;r<t.length;r++)if(_e(e,t[r]))return!0;return!1}function Ae(e,t,r,n){var i=e[0]-r[0],a=e[1]-r[1],o=t[0]-r[0],s=t[1]-r[1],u=n[0]-r[0],l=n[1]-r[1],p=i*l-u*a,c=o*l-u*s;return p>0&&c<0||p<0&&c>0}function Te(e,t,r){for(var n=0,i=r;n<i.length;n+=1)for(var a=i[n],o=0;o<a.length-1;++o)if(s=e,u=t,l=a[o],p=a[o+1],void 0,void 0,void 0,void 0,f=[u[0]-s[0],u[1]-s[1]],0!=(c=[p[0]-l[0],p[1]-l[1]])[0]*(d=f)[1]-c[1]*d[0]&&Ae(s,u,l,p)&&Ae(l,p,s,u))return!0;var s,u,l,p,c,d,f;return!1}function qe(e,t){for(var r=0;r<e.length;++r)if(!_e(e[r],t))return!1;for(var n=0;n<e.length-1;++n)if(Te(e[n],e[n+1],t))return!1;return!0}function Ee(e,t){for(var r=0;r<t.length;r++)if(qe(e,t[r]))return!0;return!1}function Pe(e,t,r){for(var n=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=Me(e[i][o],r);Se(t,s),a.push(s)}n.push(a)}return n}function De(e,t,r){for(var n=[],i=0;i<e.length;i++){var a=Pe(e[i],t,r);n.push(a)}return n}function Fe(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){var i=.5*n,a=e[0]-r[0]>i?-n:r[0]-e[0]>i?n:0;0===a&&(a=e[0]-r[2]>i?-n:r[2]-e[0]>i?n:0),e[0]+=a}Se(t,e)}function Ie(e,t,r,n){var i=Math.pow(2,n.z)*we,a=[n.x*we,n.y*we],o=[];if(!e)return o;for(var s=0,u=e;s<u.length;s+=1)for(var l=0,p=u[s];l<p.length;l+=1){var c=p[l],d=[c.x+a[0],c.y+a[1]];Fe(d,t,r,i),o.push(d)}return o}function Le(e,t,r,n){var i,a=Math.pow(2,n.z)*we,o=[n.x*we,n.y*we],s=[];if(!e)return s;for(var u=0,l=e;u<l.length;u+=1){for(var p=[],c=0,d=l[u];c<d.length;c+=1){var f=d[c],y=[f.x+o[0],f.y+o[1]];Se(t,y),p.push(y)}s.push(p)}if(t[2]-t[0]<=a/2){(i=t)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var m=0,h=s;m<h.length;m+=1)for(var v=0,g=h[m];v<g.length;v+=1)Fe(g[v],t,r,a)}return s}var Ne=function(e,t){this.type=q,this.geojson=e,this.geometries=t};Ne.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(Q(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var n=0;n<r.features.length;++n){var i=r.features[n].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Ne(r,r.features[n].geometry)}else if("Feature"===r.type){var a=r.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new Ne(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new Ne(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ne.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=Pe(t.coordinates,n,i),o=Ie(e.geometry(),r,n,i);if(!ze(r,n))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!_e(u[s],a))return!1}if("MultiPolygon"===t.type){var l=De(t.coordinates,n,i),p=Ie(e.geometry(),r,n,i);if(!ze(r,n))return!1;for(var c=0,d=p;c<d.length;c+=1)if(!Oe(d[c],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){var a=Pe(t.coordinates,n,i),o=Le(e.geometry(),r,n,i);if(!ze(r,n))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!qe(u[s],a))return!1}if("MultiPolygon"===t.type){var l=De(t.coordinates,n,i),p=Le(e.geometry(),r,n,i);if(!ze(r,n))return!1;for(var c=0,d=p;c<d.length;c+=1)if(!Ee(d[c],l))return!1}return!0}(e,this.geometries)}return!1},Ne.prototype.eachChild=function(){},Ne.prototype.outputDefined=function(){return!0},Ne.prototype.serialize=function(){return["within",this.geojson]};const Re=Ne;function Ge(e){if(e instanceof xe){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Re)return!1;var t=!0;return e.eachChild((function(e){t&&!Ge(e)&&(t=!1)})),t}function Be(e){if(e instanceof xe&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Be(e)&&(t=!1)})),t}function Ve(e,t){if(e instanceof xe&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!Ve(e,t)&&(r=!1)})),r}var Je=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Je.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new Je(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},Je.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Je.prototype.eachChild=function(){},Je.prototype.outputDefined=function(){return!1},Je.prototype.serialize=function(){return["var",this.name]};const He=Je;var Ue=function(e,t,r,n,i){void 0===t&&(t=[]),void 0===n&&(n=new _),void 0===i&&(i=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=n,this.errors=i,this.expectedType=r};Ue.prototype.parse=function(e,t,r,n,i){return void 0===i&&(i={}),t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)},Ue.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new ue(t,[e]):"coerce"===r?new me(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[n];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else a=r(a,o,t.typeAnnotation||"coerce");else a=r(a,o,t.typeAnnotation||"assert")}if(!(a instanceof ne)&&"resolvedImage"!==a.type.kind&&We(a)){var u=new ge;try{a=new ne(a.type,a.evaluate(u))}catch(e){return this.error(e.message),null}}return a}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},Ue.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new Ue(this.registry,n,t||null,i,this.errors)},Ue.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new M(n,e))},Ue.prototype.checkSubtype=function(e,t){var r=B(e,t);return r&&this.error(r),r};const Ke=Ue;function We(e){if(e instanceof He)return We(e.boundExpression);if(e instanceof xe&&"error"===e.name)return!1;if(e instanceof je)return!1;if(e instanceof Re)return!1;var t=e instanceof me||e instanceof ue,r=!0;return e.eachChild((function(e){r=t?r&&We(e):r&&e instanceof ne})),!!r&&Ge(e)&&Ve(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Ze(e,t){for(var r,n,i=e.length-1,a=0,o=i,s=0;a<=o;)if(r=e[s=Math.floor((a+o)/2)],n=e[s+1],r<=t){if(s===i||t<n)return s;a=s+1}else{if(!(r>t))throw new ae("Input is not a number.");o=s-1}return 0}var $e=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,i=r;n<i.length;n+=1){var a=i[n],o=a[0],s=a[1];this.labels.push(o),this.outputs.push(s)}};$e.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,A);if(!r)return null;var n=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var a=1;a<e.length;a+=2){var o=1===a?-1/0:e[a],s=e[a+1],u=a,l=a+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=t.parse(s,l,i);if(!p)return null;i=i||p.type,n.push([o,p])}return new $e(i,r,n)},$e.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[Ze(t,n)].evaluate(e)},$e.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},$e.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},$e.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};const Ye=$e;var Xe=w(462);function Qe(e,t,r){return e*(1-r)+t*r}function et(e,t,r){return new i(Qe(e.r,t.r,r),Qe(e.g,t.g,r),Qe(e.b,t.b,r),Qe(e.a,t.a,r))}function tt(e,t,r){return e.map((function(e,n){return Qe(e,t[n],r)}))}var rt=.95047,nt=1.08883,it=4/29,at=6/29,ot=3*at*at,st=Math.PI/180,ut=180/Math.PI;function lt(e){return e>.008856451679035631?Math.pow(e,1/3):e/ot+it}function pt(e){return e>at?e*e*e:ot*(e-it)}function ct(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function dt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ft(e){var t=dt(e.r),r=dt(e.g),n=dt(e.b),i=lt((.4124564*t+.3575761*r+.1804375*n)/rt),a=lt((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-lt((.0193339*t+.119192*r+.9503041*n)/nt)),alpha:e.a}}function yt(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*pt(t),r=rt*pt(r),n=nt*pt(n),new i(ct(3.2404542*r-1.5371385*t-.4985314*n),ct(-.969266*r+1.8760108*t+.041556*n),ct(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function mt(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var ht={forward:ft,reverse:yt,interpolate:function(e,t,r){return{l:Qe(e.l,t.l,r),a:Qe(e.a,t.a,r),b:Qe(e.b,t.b,r),alpha:Qe(e.alpha,t.alpha,r)}}},vt={forward:function(e){var t=ft(e),r=t.l,n=t.a,i=t.b,a=Math.atan2(i,n)*ut;return{h:a<0?a+360:a,c:Math.sqrt(n*n+i*i),l:r,alpha:e.a}},reverse:function(e){var t=e.h*st,r=e.c;return yt({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:mt(e.h,t.h,r),c:Qe(e.c,t.c,r),l:Qe(e.l,t.l,r),alpha:Qe(e.alpha,t.alpha,r)}}},gt=function(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],u=s[0],l=s[1];this.labels.push(u),this.outputs.push(l)}};function bt(e,t,r,n){var i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}gt.interpolationFactor=function(e,t,r,n){var i=0;if("exponential"===e.name)i=bt(t,e.base,r,n);else if("linear"===e.name)i=bt(t,1,r,n);else if("cubic-bezier"===e.name){var a=e.controlPoints;i=new Xe(a[0],a[1],a[2],a[3]).solve(bt(t,1,r,n))}return i},gt.parse=function(e,t){var r=e[0],n=e[1],i=e[2],a=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(i=t.parse(i,2,A)))return null;var u=[],l=null;"interpolate-hcl"===r||"interpolate-lab"===r?l=E:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var p=0;p<a.length;p+=2){var c=a[p],d=a[p+1],f=p+3,y=p+4;if("number"!=typeof c)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(u.length&&u[u.length-1][0]>=c)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var m=t.parse(d,y,l);if(!m)return null;l=l||m.type,u.push([c,m])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new gt(l,r,n,i,u):t.error("Type "+R(l)+" is not interpolatable.")},gt.prototype.evaluate=function(t){var r=this.labels,n=this.outputs;if(1===r.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=r[0])return n[0].evaluate(t);var a=r.length;if(i>=r[a-1])return n[a-1].evaluate(t);var o=Ze(r,i),s=r[o],u=r[o+1],l=gt.interpolationFactor(this.interpolation,i,s,u),p=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?e[this.type.kind.toLowerCase()](p,c,l):"interpolate-hcl"===this.operator?vt.reverse(vt.interpolate(vt.forward(p),vt.forward(c),l)):ht.reverse(ht.interpolate(ht.forward(p),ht.forward(c),l))},gt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},gt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},gt.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};const xt=gt;var kt=function(e,t){this.type=e,this.args=t};kt.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var i=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=o[a],u=t.parse(s,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!u)return null;r=r||u.type,i.push(u)}var l=n&&i.some((function(e){return B(n,e.type)}));return new kt(l?D:r,i)},kt.prototype.evaluate=function(e){for(var t,r=null,n=0,i=0,a=this.args;i<a.length;i+=1){if(n++,(r=a[i].evaluate(e))&&r instanceof Y&&!r.available&&(t||(t=r),r=null,n===this.args.length))return t;if(null!==r)break}return r},kt.prototype.eachChild=function(e){this.args.forEach(e)},kt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},kt.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};const jt=kt;var wt=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};wt.prototype.evaluate=function(e){return this.result.evaluate(e)},wt.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},wt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var i=e[n];if("string"!=typeof i)return t.error("Expected string, but found "+typeof i+" instead.",n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var a=t.parse(e[n+1],n+1);if(!a)return null;r.push([i,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return o?new wt(r,o):null},wt.prototype.outputDefined=function(){return this.result.outputDefined()},wt.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];e.push(i,a.serialize())}return e.push(this.result.serialize()),e};const St=wt;var zt=function(e,t,r){this.type=e,this.index=t,this.input=r};zt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,A),n=t.parse(e[2],2,N(t.expectedType||D));if(!r||!n)return null;var i=n.type;return new zt(i.itemType,r,n)},zt.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new ae("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new ae("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new ae("Array index must be an integer, but found "+t+" instead.");return r[t]},zt.prototype.eachChild=function(e){e(this.index),e(this.input)},zt.prototype.outputDefined=function(){return!1},zt.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};const Mt=zt;var Ct=function(e,t){this.type=q,this.needle=e,this.haystack=t};Ct.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,D),n=t.parse(e[2],2,D);return r&&n?V(r.type,[q,T,A,O,D])?new Ct(r,n):t.error("Expected first argument to be of type boolean, string, number or null, but found "+R(r.type)+" instead"):null},Ct.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(null==r)return!1;if(!J(t,["boolean","string","number","null"]))throw new ae("Expected first argument to be of type boolean, string, number or null, but found "+R(ee(t))+" instead.");if(!J(r,["string","array"]))throw new ae("Expected second argument to be of type array or string, but found "+R(ee(r))+" instead.");return r.indexOf(t)>=0},Ct.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},Ct.prototype.outputDefined=function(){return!0},Ct.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};const _t=Ct;var Ot=function(e,t,r){this.type=A,this.needle=e,this.haystack=t,this.fromIndex=r};Ot.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,D),n=t.parse(e[2],2,D);if(!r||!n)return null;if(!V(r.type,[q,T,A,O,D]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+R(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,A);return i?new Ot(r,n,i):null}return new Ot(r,n)},Ot.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!J(t,["boolean","string","number","null"]))throw new ae("Expected first argument to be of type boolean, string, number or null, but found "+R(ee(t))+" instead.");if(!J(r,["string","array"]))throw new ae("Expected second argument to be of type array or string, but found "+R(ee(r))+" instead.");if(this.fromIndex){var n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)},Ot.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},Ot.prototype.outputDefined=function(){return!1},Ot.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};const At=Ot;var Tt=function(e,t,r,n,i,a){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a};Tt.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var i={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],u=e[o+1];Array.isArray(s)||(s=[s]);var l=t.concat(o);if(0===s.length)return l.error("Expected at least one branch label.");for(var p=0,c=s;p<c.length;p+=1){var d=c[p];if("number"!=typeof d&&"string"!=typeof d)return l.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return l.error("Numeric branch labels must be integer values.");if(r){if(l.checkSubtype(r,ee(d)))return null}else r=ee(d);if(void 0!==i[String(d)])return l.error("Branch labels must be unique.");i[String(d)]=a.length}var f=t.parse(u,o,n);if(!f)return null;n=n||f.type,a.push(f)}var y=t.parse(e[1],1,D);if(!y)return null;var m=t.parse(e[e.length-1],e.length-1,n);return m?"value"!==y.type.kind&&t.concat(1).checkSubtype(r,y.type)?null:new Tt(r,n,y,i,a,m):null},Tt.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(ee(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},Tt.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Tt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},Tt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},i=0,a=Object.keys(this.cases).sort();i<a.length;i+=1){var o=a[i];void 0===(c=n[this.cases[o]])?(n[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[c][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,l=r;u<l.length;u+=1){var p=l[u],c=p[0],d=p[1];1===d.length?t.push(s(d[0])):t.push(d.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};const qt=Tt;var Et=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};Et.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],i=1;i<e.length-1;i+=2){var a=t.parse(e[i],i,q);if(!a)return null;var o=t.parse(e[i+1],i+1,r);if(!o)return null;n.push([a,o]),r=r||o.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new Et(r,n,s):null},Et.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];if(i.evaluate(e))return a.evaluate(e)}return this.otherwise.evaluate(e)},Et.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],i=n[0],a=n[1];e(i),e(a)}e(this.otherwise)},Et.prototype.outputDefined=function(){return this.branches.every((function(e){return e[0],e[1].outputDefined()}))&&this.otherwise.outputDefined()},Et.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};const Pt=Et;var Dt=function(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n};Dt.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,D),n=t.parse(e[2],2,A);if(!r||!n)return null;if(!V(r.type,[N(D),T,D]))return t.error("Expected first argument to be of type array or string, but found "+R(r.type)+" instead");if(4===e.length){var i=t.parse(e[3],3,A);return i?new Dt(r.type,r,n,i):null}return new Dt(r.type,r,n)},Dt.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!J(t,["string","array"]))throw new ae("Expected first argument to be of type array or string, but found "+R(ee(t))+" instead.");if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)},Dt.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},Dt.prototype.outputDefined=function(){return!1},Dt.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};const Ft=Dt;function It(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Lt(e,t,r,n){return 0===n.compare(t,r)}function Nt(e,t,r){var n="=="!==e&&"!="!==e;return function(){function i(e,t,r){this.type=q,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return i.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],a=t.parse(e[1],1,D);if(!a)return null;if(!It(r,a.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+R(a.type)+"'.");var o=t.parse(e[2],2,D);if(!o)return null;if(!It(r,o.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+R(o.type)+"'.");if(a.type.kind!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+R(a.type)+"' and '"+R(o.type)+"'.");n&&("value"===a.type.kind&&"value"!==o.type.kind?a=new ue(o.type,[a]):"value"!==a.type.kind&&"value"===o.type.kind&&(o=new ue(a.type,[o])));var s=null;if(4===e.length){if("string"!==a.type.kind&&"string"!==o.type.kind&&"value"!==a.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,F)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){var s=ee(a),u=ee(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ae('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var l=ee(a),p=ee(o);if("string"!==l.kind||"string"!==p.kind)return t(i,a,o)}return this.collator?r(i,a,o,this.collator.evaluate(i)):t(i,a,o)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},i}()}var Rt=Nt("==",(function(e,t,r){return t===r}),Lt),Gt=Nt("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!Lt(0,t,r,n)})),Bt=Nt("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),Vt=Nt(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),Jt=Nt("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),Ht=Nt(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),Ut=function(e,t,r,n,i){this.type=T,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i};Ut.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,A);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var i=null;if(n.locale&&!(i=t.parse(n.locale,1,T)))return null;var a=null;if(n.currency&&!(a=t.parse(n.currency,1,T)))return null;var o=null;if(n["min-fraction-digits"]&&!(o=t.parse(n["min-fraction-digits"],1,A)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,A))?null:new Ut(r,i,a,o,s)},Ut.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Ut.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Ut.prototype.outputDefined=function(){return!1},Ut.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};const Kt=Ut;var Wt=function(e){this.type=A,this.input=e};Wt.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+R(r.type)+" instead."):new Wt(r):null},Wt.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ae("Expected value to be of type string or array, but found "+R(ee(t))+" instead.")},Wt.prototype.eachChild=function(e){e(this.input)},Wt.prototype.outputDefined=function(){return!1},Wt.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Zt={"==":Rt,"!=":Gt,">":Vt,"<":Bt,">=":Ht,"<=":Jt,array:ue,at:Mt,boolean:ue,case:Pt,coalesce:jt,collator:je,format:pe,image:de,in:_t,"index-of":At,interpolate:xt,"interpolate-hcl":xt,"interpolate-lab":xt,length:Wt,let:St,literal:ne,match:qt,number:ue,"number-format":Kt,object:ue,slice:Ft,step:Ye,string:ue,"to-boolean":me,"to-color":me,"to-number":me,"to-string":me,var:He,within:Re};function $t(e,t){var r=t[0],n=t[1],a=t[2],o=t[3];r=r.evaluate(e),n=n.evaluate(e),a=a.evaluate(e);var s=o?o.evaluate(e):1,u=X(r,n,a,s);if(u)throw new ae(u);return new i(r/255*s,n/255*s,a/255*s,s)}function Yt(e,t){return e in t}function Xt(e,t){var r=t[e];return void 0===r?null:r}function Qt(e){return{type:e}}xe.register(Zt,{error:[{kind:"error"},[T],function(e,t){var r=t[0];throw new ae(r.evaluate(e))}],typeof:[T,[D],function(e,t){return R(ee(t[0].evaluate(e)))}],"to-rgba":[N(A,4),[E],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[E,[A,A,A],$t],rgba:[E,[A,A,A,A],$t],has:{type:q,overloads:[[[T],function(e,t){return Yt(t[0].evaluate(e),e.properties())}],[[T,P],function(e,t){var r=t[0],n=t[1];return Yt(r.evaluate(e),n.evaluate(e))}]]},get:{type:D,overloads:[[[T],function(e,t){return Xt(t[0].evaluate(e),e.properties())}],[[T,P],function(e,t){var r=t[0],n=t[1];return Xt(r.evaluate(e),n.evaluate(e))}]]},"feature-state":[D,[T],function(e,t){return Xt(t[0].evaluate(e),e.featureState||{})}],properties:[P,[],function(e){return e.properties()}],"geometry-type":[T,[],function(e){return e.geometryType()}],id:[D,[],function(e){return e.id()}],zoom:[A,[],function(e){return e.globals.zoom}],pitch:[A,[],function(e){return e.globals.pitch||0}],"distance-from-center":[A,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[A,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[A,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[A,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[D,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[A,Qt(A),function(e,t){for(var r=0,n=0,i=t;n<i.length;n+=1)r+=i[n].evaluate(e);return r}],"*":[A,Qt(A),function(e,t){for(var r=1,n=0,i=t;n<i.length;n+=1)r*=i[n].evaluate(e);return r}],"-":{type:A,overloads:[[[A,A],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)-n.evaluate(e)}],[[A],function(e,t){return-t[0].evaluate(e)}]]},"/":[A,[A,A],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)/n.evaluate(e)}],"%":[A,[A,A],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)%n.evaluate(e)}],ln2:[A,[],function(){return Math.LN2}],pi:[A,[],function(){return Math.PI}],e:[A,[],function(){return Math.E}],"^":[A,[A,A],function(e,t){var r=t[0],n=t[1];return Math.pow(r.evaluate(e),n.evaluate(e))}],sqrt:[A,[A],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[A,[A],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN10}],ln:[A,[A],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[A,[A],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN2}],sin:[A,[A],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[A,[A],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[A,[A],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[A,[A],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[A,[A],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[A,[A],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[A,Qt(A),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[A,Qt(A),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[A,[A],function(e,t){var r=t[0];return Math.abs(r.evaluate(e))}],round:[A,[A],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[A,[A],function(e,t){var r=t[0];return Math.floor(r.evaluate(e))}],ceil:[A,[A],function(e,t){var r=t[0];return Math.ceil(r.evaluate(e))}],"filter-==":[q,[T,D],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[q,[D],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[q,[T],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[q,[T,D],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i<a}],"filter-id-<":[q,[D],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<i}],"filter->":[q,[T,D],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i>a}],"filter-id->":[q,[D],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>i}],"filter-<=":[q,[T,D],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[q,[D],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n<=i}],"filter->=":[q,[T,D],function(e,t){var r=t[0],n=t[1],i=e.properties()[r.value],a=n.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[q,[D],function(e,t){var r=t[0],n=e.id(),i=r.value;return typeof n==typeof i&&n>=i}],"filter-has":[q,[D],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[q,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[q,[N(T)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[q,[N(D)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[q,[T,N(D)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[q,[T,N(D)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:q,overloads:[[[q,q],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)&&n.evaluate(e)}],[Qt(q),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:q,overloads:[[[q,q],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)||n.evaluate(e)}],[Qt(q),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[q,[q],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[q,[T],function(e,t){var r=t[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(r.evaluate(e))}],upcase:[T,[T],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[T,[T],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[T,Qt(D),function(e,t){return t.map((function(t){return te(t.evaluate(e))})).join("")}],"resolved-locale":[T,[F],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});const er=Zt;function tr(e){return{result:"success",value:e}}function rr(e){return{result:"error",value:e}}function nr(e){return!!e.expression&&e.expression.interpolated}function ir(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function ar(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function or(e){return e}function sr(e,r){var n,a,o,s="color"===r.type,u=e.stops&&"object"==typeof e.stops[0][0],l=u||void 0!==e.property,p=u||!l,c=e.type||(nr(r)?"exponential":"interval");if(s&&((e=z({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],i.parse(e[1])]}))),e.default?e.default=i.parse(e.default):e.default=i.parse(r.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!t[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===c)n=cr;else if("interval"===c)n=pr;else if("categorical"===c){n=lr,a=Object.create(null);for(var d=0,f=e.stops;d<f.length;d+=1){var y=f[d];a[y[0]]=y[1]}o=typeof e.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');n=dr}if(u){for(var m={},h=[],v=0;v<e.stops.length;v++){var g=e.stops[v],b=g[0].zoom;void 0===m[b]&&(m[b]={zoom:b,type:e.type,property:e.property,default:e.default,stops:[]},h.push(b)),m[b].stops.push([g[0].value,g[1]])}for(var x=[],k=0,j=h;k<j.length;k+=1){var w=j[k];x.push([m[w].zoom,sr(m[w],r)])}var S={name:"linear"};return{kind:"composite",interpolationType:S,interpolationFactor:xt.interpolationFactor.bind(void 0,S),zoomStops:x.map((function(e){return e[0]})),evaluate:function(t,n){var i=t.zoom;return cr({stops:x,base:e.base},r,i).evaluate(i,n)}}}if(p){var M="exponential"===c?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:M,interpolationFactor:xt.interpolationFactor.bind(void 0,M),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(t){var i=t.zoom;return n(e,r,i,a,o)}}}return{kind:"source",evaluate:function(t,i){var s=i&&i.properties?i.properties[e.property]:void 0;return void 0===s?ur(e.default,r.default):n(e,r,s,a,o)}}}function ur(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function lr(e,t,r,n,i){return ur(typeof r===i?n[r]:void 0,e.default,t.default)}function pr(e,t,r){if("number"!==ir(r))return ur(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var i=Ze(e.stops.map((function(e){return e[0]})),r);return e.stops[i][1]}function cr(r,n,i){var a=void 0!==r.base?r.base:1;if("number"!==ir(i))return ur(r.default,n.default);var o=r.stops.length;if(1===o)return r.stops[0][1];if(i<=r.stops[0][0])return r.stops[0][1];if(i>=r.stops[o-1][0])return r.stops[o-1][1];var s=Ze(r.stops.map((function(e){return e[0]})),i),u=function(e,t,r,n){var i=n-r,a=e-r;return 0===i?0:1===t?a/i:(Math.pow(t,a)-1)/(Math.pow(t,i)-1)}(i,a,r.stops[s][0],r.stops[s+1][0]),l=r.stops[s][1],p=r.stops[s+1][1],c=e[n.type]||or;if(r.colorSpace&&"rgb"!==r.colorSpace){var d=t[r.colorSpace];c=function(e,t){return d.reverse(d.interpolate(d.forward(e),d.forward(t),u))}}return"function"==typeof l.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=l.evaluate.apply(void 0,e),n=p.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return c(r,n,u)}}:c(l,p,u)}function dr(e,t,r){return"color"===t.type?r=i.parse(r):"formatted"===t.type?r=Z.fromString(r.toString()):"resolvedImage"===t.type?r=Y.fromString(r.toString()):ir(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),ur(r,e.default,t.default)}var fr=function(e,t){var r;this.expression=e,this._warningHistory={},this._evaluator=new ge,this._defaultValue=t?"color"===(r=t).type&&ar(r.default)?new i(0,0,0,0):"color"===r.type?i.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function yr(e,t){var r=new Ke(er,[],t?function(e){var t={color:E,string:T,number:A,enum:T,boolean:q,formatted:I,resolvedImage:L};return"array"===e.type?N(t[e.value]||D,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?tr(new fr(n,t)):rr(r.errors)}fr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)},fr.prototype.evaluate=function(e,t,r,n,i,a,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null;try{var u=this.expression.evaluate(this._evaluator);if(null==u||"number"==typeof u&&u!=u)return this._defaultValue;if(this._enumValues&&!(u in this._enumValues))throw new ae("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(u)+" instead.");return u}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var mr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Be(t.expression)};mr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)},mr.prototype.evaluate=function(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)};var hr=function(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Be(t.expression),this.interpolationType=n};function vr(e,t){if("error"===(e=yr(e,t)).result)return e;var r,n=e.value.expression,i=Ge(n);if(!i&&"data-driven"!==(r=t)["property-type"]&&"cross-faded-data-driven"!==r["property-type"])return rr([new M("","data expressions not supported")]);var a=Ve(n,["zoom","pitch","distance-from-center"]);if(!a&&!function(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}(t))return rr([new M("","zoom expressions not supported")]);var o=br(n);if(!o&&!a)return rr([new M("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof M)return rr([o]);if(o instanceof xt&&!nr(t))return rr([new M("",'"interpolate" expressions cannot be used with this property')]);if(!o)return tr(new mr(i?"constant":"source",e.value));var s=o instanceof xt?o.interpolation:void 0;return tr(new hr(i?"camera":"composite",e.value,o.labels,s))}hr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,a)},hr.prototype.evaluate=function(e,t,r,n,i,a){return this._styleExpression.evaluate(e,t,r,n,i,a)},hr.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?xt.interpolationFactor(this.interpolationType,e,t,r):0};var gr=function(e,t){this._parameters=e,this._specification=t,z(this,sr(this._parameters,this._specification))};function br(e){var t=null;if(e instanceof St)t=br(e.result);else if(e instanceof jt)for(var r=0,n=e.args;r<n.length;r+=1){var i=n[r];if(t=br(i))break}else(e instanceof Ye||e instanceof xt)&&e.input instanceof xe&&"zoom"===e.input.name&&(t=e);return t instanceof M||e.eachChild((function(e){var r=br(e);r instanceof M?t=r:!t&&r?t=new M("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new M("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function xr(e){if(Array.isArray(e))return e.map(xr);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=xr(e[r]);return t}return function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}(e)}gr.deserialize=function(e){return new gr(e._parameters,e._specification)},gr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};const kr=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false,"sdk-support":{"basic functionality":{"android":"9.3.0","ios":"5.10.0"}}},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false,"sdk-support":{"basic functionality":{"android":"9.3.0","ios":"5.10.0"}}},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false,"sdk-support":{"basic functionality":{"android":"9.3.0","ios":"5.10.0"}}},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}}},"line":{"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}}},"symbol":{"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}}},"circle":{"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}}},"heatmap":{"sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"fill-extrusion":{"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}}},"raster":{"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}}},"hillshade":{"sdk-support":{"basic functionality":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"background":{"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}}},"sky":{"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}}}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","sdk-support":{"basic functionality":{"js":"1.2.0","android":"9.1.0","ios":"5.8.0","macos":"0.15.0"},"data-driven styling":{"js":"1.2.0","android":"9.1.0","ios":"5.8.0","macos":"0.15.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","sdk-support":{"basic functionality":{"js":"1.2.0","android":"9.2.0","ios":"5.9.0","macos":"0.16.0"},"data-driven styling":{"js":"1.2.0","android":"9.2.0","ios":"5.9.0","macos":"0.16.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"2.3.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","sdk-support":{"basic functionality":{"js":"1.2.0","android":"9.1.0","ios":"5.8.0","macos":"0.15.0"},"data-driven styling":{"js":"1.2.0","android":"9.1.0","ios":"5.8.0","macos":"0.15.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"`line-center` value":{"js":"0.47.0","android":"6.4.0","ios":"4.3.0","macos":"0.10.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","sdk-support":{"basic functionality":{"js":"0.53.0","android":"7.4.0","ios":"4.11.0","macos":"0.14.0"},"data-driven styling":{"js":"0.53.0","android":"7.4.0","ios":"4.11.0","macos":"0.14.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","sdk-support":{"basic functionality":{"js":"0.49.0","android":"6.6.0","ios":"4.5.0","macos":"0.12.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0","macos":"0.3.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0","macos":"0.2.1"},"stretchable icons":{"js":"1.6.0","android":"9.2.0","ios":"5.8.0","macos":"0.15.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0","macos":"0.2.1"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.21.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0","macos":"0.2.1"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0","macos":"0.3.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"`auto` value":{"js":"0.25.0","android":"4.2.0","ios":"3.4.0","macos":"0.3.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"2.3.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.40.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"},"auto":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0","macos":"0.14.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"sdk-support":{"basic functionality":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0","macos":"0.14.0"},"data-driven styling":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0","macos":"0.14.0"}},"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{"js":"0.54.0","android":"7.4.0","ios":"4.10.0","macos":"0.14.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"sdk-support":{"basic functionality":{"js":"1.3.0","android":"8.3.0","ios":"5.3.0","macos":"0.15.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.35.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","sdk-support":{"basic functionality":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"expression_name":{"type":"enum","values":{"let":{"group":"Variable binding","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"var":{"group":"Variable binding","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"literal":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"array":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"at":{"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"in":{"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.6.0","android":"9.1.0","ios":"5.8.0","macos":"0.15.0"}}},"index-of":{"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.10.0"}}},"slice":{"group":"Lookup","sdk-support":{"basic functionality":{"js":"1.10.0"}}},"case":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"match":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"coalesce":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"step":{"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"interpolate":{"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"interpolate-hcl":{"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.49.0"}}},"interpolate-lab":{"group":"Ramps, scales, curves","sdk-support":{"basic functionality":{"js":"0.49.0"}}},"ln2":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"pi":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"e":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"typeof":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"string":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"number":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"boolean":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"object":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"collator":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0","macos":"0.9.0"}}},"format":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0","macos":"0.12.0"},"text-font":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0","macos":"0.12.0"},"font-scale":{"js":"0.48.0","android":"6.7.0","ios":"4.6.0","macos":"0.12.0"},"text-color":{"js":"1.3.0","android":"7.3.0","ios":"4.10.0","macos":"0.14.0"},"image":{"js":"1.6.0","android":"8.6.0","ios":"5.7.0","macos":"0.15.0"}}},"image":{"group":"Types","sdk-support":{"basic functionality":{"js":"1.4.0","android":"8.6.0","ios":"5.7.0","macos":"0.15.0"}}},"number-format":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.54.0","android":"8.4.0","ios":"5.4.0","macos":"0.15.0"}}},"to-string":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"to-number":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"to-boolean":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"to-rgba":{"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"to-color":{"group":"Types","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"rgb":{"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"rgba":{"group":"Color","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"get":{"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"has":{"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"length":{"group":"Lookup","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"properties":{"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"feature-state":{"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.46.0"}}},"geometry-type":{"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"id":{"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"zoom":{"group":"Camera","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"pitch":{"group":"Camera","sdk-support":{"basic functionality":{"js":"2.6.0"}}},"distance-from-center":{"group":"Camera","sdk-support":{"basic functionality":{"js":"2.6.0"}}},"heatmap-density":{"group":"Heatmap","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"line-progress":{"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.6.0","macos":"0.12.0"}}},"sky-radial-progress":{"group":"sky","sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}}},"accumulated":{"group":"Feature data","sdk-support":{"basic functionality":{"js":"0.53.0","android":"8.4.0","ios":"5.5.0","macos":"0.15.0"}}},"+":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"*":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"-":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"/":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"%":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"^":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"sqrt":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.42.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"log10":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"ln":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"log2":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"sin":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"cos":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"tan":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"asin":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"acos":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"atan":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"min":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"max":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"round":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"abs":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"ceil":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"floor":{"group":"Math","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"distance":{"group":"Math","sdk-support":{"basic functionality":{"android":"9.2.0","ios":"5.9.0","macos":"0.16.0"}}},"==":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0","macos":"0.9.0"}}},"!=":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0","macos":"0.9.0"}}},">":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0","macos":"0.9.0"}}},"<":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0","macos":"0.9.0"}}},">=":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0","macos":"0.9.0"}}},"<=":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"collator":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0","macos":"0.9.0"}}},"all":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"any":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"!":{"group":"Decision","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"within":{"group":"Decision","sdk-support":{"basic functionality":{"js":"1.9.0","android":"9.1.0","ios":"5.8.0","macos":"0.15.0"}}},"is-supported-script":{"group":"String","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.6.0"}}},"upcase":{"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"downcase":{"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"concat":{"group":"String","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}}},"resolved-locale":{"group":"String","sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.2.0","macos":"0.9.0"}}}}},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"sdk-support":{"basic functionality":{"js":"2.3.0"}}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"sdk-support":{"basic functionality":{"js":"2.3.0"}}},"horizon-blend":{"type":"number","property-type":"data-constant","default":0.1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"sdk-support":{"basic functionality":{"js":"2.3.0"}}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}}},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}}}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true,"sdk-support":{"basic functionality":{"js":"2.6.0"}}},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{"js":"2.6.0"}}},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{"js":"2.6.0"}}}},"terrain":{"source":{"type":"string","required":true,"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}}},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}}}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.21.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.19.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.19.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.49.0","android":"6.5.0","macos":"0.11.0","ios":"4.4.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"},"data-driven styling":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"},"data-driven styling":{"js":"0.49.0","android":"6.5.0","macos":"0.11.0","ios":"4.4.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"},"data-driven styling":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"sdk-support":{"basic functionality":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"},"data-driven styling":{"js":"0.27.0","android":"5.1.0","ios":"3.6.0","macos":"0.5.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"sdk-support":{"basic functionality":{"js":"0.50.0","android":"7.0.0","ios":"4.7.0","macos":"0.13.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.23.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.12.1","android":"3.0.0","ios":"3.1.0","macos":"0.1.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"2.3.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.49.0","android":"6.5.0","macos":"0.11.0","ios":"4.4.0"}},"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"sdk-support":{"basic functionality":{"js":"0.45.0","android":"6.5.0","ios":"4.4.0","macos":"0.11.0"},"data-driven styling":{}},"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.18.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.18.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.20.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.20.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","sdk-support":{"basic functionality":{"js":"0.21.0","android":"4.2.0","ios":"3.4.0","macos":"0.2.1"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","sdk-support":{"basic functionality":{"js":"0.39.0","android":"5.2.0","ios":"3.7.0","macos":"0.6.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"sdk-support":{"basic functionality":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"},"data-driven styling":{"js":"0.29.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"data-driven styling":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"data-driven styling":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"},"data-driven styling":{}},"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.41.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{"js":"0.33.0","android":"5.0.0","ios":"3.5.0","macos":"0.4.0"}},"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","sdk-support":{"basic functionality":{"js":"0.47.0","android":"6.3.0","ios":"4.2.0","macos":"0.9.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"sdk-support":{"basic functionality":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","sdk-support":{"basic functionality":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"sdk-support":{"basic functionality":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"sdk-support":{"basic functionality":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"sdk-support":{"basic functionality":{"js":"0.43.0","android":"6.0.0","ios":"4.0.0","macos":"0.7.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"},"data-driven styling":{}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"0.10.0","android":"2.0.1","ios":"2.0.0","macos":"0.1.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"},"data-driven styling":{}},"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"sdk-support":{"basic functionality":{"js":"2.0.0","ios":"10.0.0","android":"10.0.0"}},"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}'),jr=function(e,t){if(void 0===t&&(t="fill"),null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};wr(e)||(e=Ar(e));var r=e,n=!0;try{n=function(e){if(!Mr(e))return e;var t=xr(e);return zr(t),Sr(t)}(r)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n"+JSON.stringify(r,null,2)+"\n        ")}var i=kr["filter_"+t],a=yr(n,i),o=null;if("error"===a.result)throw new Error(a.value.map((function(e){return e.key+": "+e.message})).join(", "));o=function(e,t,r){return a.value.evaluate(e,t,{},r)};var s=null,u=null;if(n!==r){var l=yr(r,i);if("error"===l.result)throw new Error(l.value.map((function(e){return e.key+": "+e.message})).join(", "));s=function(e,t,r,n,i){return l.value.evaluate(e,t,{},r,void 0,void 0,n,i)},u=!Ge(l.value.expression)}return{filter:o=o,dynamicFilter:s||void 0,needGeometry:Or(n),needFeature:!!u}};function wr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!wr(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}function Sr(e){if(!Array.isArray(e))return e;var t=function(e){if(Cr.has(e[0]))for(var t=1;t<e.length;t++)if(Mr(e[t]))return!0;return e}(e);return!0===t?t:t.map((function(e){return Sr(e)}))}function zr(e){var t=!1,r=[];if("case"===e[0]){for(var n=1;n<e.length-1;n+=2)t=t||Mr(e[n]),r.push(e[n+1]);r.push(e[e.length-1])}else if("match"===e[0]){t=t||Mr(e[1]);for(var i=2;i<e.length-1;i+=2)r.push(e[i+1]);r.push(e[e.length-1])}else if("step"===e[0]){t=t||Mr(e[1]);for(var a=1;a<e.length-1;a+=2)r.push(e[a+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(r)));for(var o=1;o<e.length;o++)zr(e[o])}function Mr(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,r=1;r<e.length;r++)if(Mr(e[r]))return!0;return!1}var Cr=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function _r(e,t){return e<t?-1:e>t?1:0}function Or(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Or(e[t]))return!0;return!1}function Ar(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?Tr(e[1],e[2],"=="):"!="===r?Pr(Tr(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Tr(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(Ar))):"all"===r?["all"].concat(e.slice(1).map(Ar)):"none"===r?["all"].concat(e.slice(1).map(Ar).map(Pr)):"in"===r?qr(e[1],e.slice(2)):"!in"===r?Pr(qr(e[1],e.slice(2))):"has"===r?Er(e[1]):"!has"===r?Pr(Er(e[1])):"within"!==r||e}function Tr(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function qr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(_r)]]:["filter-in-small",e,["literal",t]]}}function Er(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Pr(e){return["!",e]}const Dr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Fr(e,t){var r={};for(var n in e)"ref"!==n&&(r[n]=e[n]);return Dr.forEach((function(e){e in t&&(r[e]=t[e])})),r}var Ir=w(51);const Lr=function(){function e(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}(),Nr=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();function Rr(){}var Gr="function"==typeof Object.assign?Object.assign:function(e,t){var r=arguments;if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1,a=arguments.length;i<a;++i){var o=r[i];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function Br(e){for(var t in e)delete e[t]}"function"==typeof Object.values&&Object.values;var Vr,Jr=(Vr=function(e,t){return Vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Vr(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Vr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});const Hr=function(e){function t(t){var r=e.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return Jr(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var r=this.listeners_||(this.listeners_={}),n=r[e]||(r[e]=[]);-1===n.indexOf(t)&&n.push(t)}},t.prototype.dispatchEvent=function(e){var t="string"==typeof e,r=t?e:e.type,n=this.listeners_&&this.listeners_[r];if(n){var i=t?new Lr(e):e;i.target||(i.target=this.eventTarget_||this);var a,o=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});r in o||(o[r]=0,s[r]=0),++o[r];for(var u=0,l=n.length;u<l;++u)if(!1===(a="handleEvent"in n[u]?n[u].handleEvent(i):n[u].call(this,i))||i.propagationStopped){a=!1;break}if(0==--o[r]){var p=s[r];for(delete s[r];p--;)this.removeEventListener(r,Rr);delete o[r]}return a}},t.prototype.disposeInternal=function(){this.listeners_&&Br(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(e,t){var r=this.listeners_&&this.listeners_[e];if(r){var n=r.indexOf(t);-1!==n&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[n]=Rr,++this.pendingRemovals_[e]):(r.splice(n,1),0===r.length&&delete this.listeners_[e]))}},t}(Nr);function Ur(e,t,r,n,i){if(n&&n!==e&&(r=r.bind(n)),i){var a=r;r=function(){e.removeEventListener(t,r),a.apply(this,arguments)}}var o={target:e,type:t,listener:r};return e.addEventListener(t,r),o}function Kr(e,t,r,n){return Ur(e,t,r,n,!0)}function Wr(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Br(e))}var Zr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$r=function(e){function t(){var t=e.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return Zr(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,t){if(Array.isArray(e)){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=Ur(this,e[i],t);return n}return Ur(this,e,t)},t.prototype.onceInternal=function(e,t){var r;if(Array.isArray(e)){var n=e.length;r=new Array(n);for(var i=0;i<n;++i)r[i]=Kr(this,e[i],t)}else r=Kr(this,e,t);return t.ol_key=r,r},t.prototype.unInternal=function(e,t){var r=t.ol_key;if(r)!function(e){if(Array.isArray(e))for(var t=0,r=e.length;t<r;++t)Wr(e[t]);else Wr(e)}(r);else if(Array.isArray(e))for(var n=0,i=e.length;n<i;++n)this.removeEventListener(e[n],t);else this.removeEventListener(e,t)},t}(Hr);$r.prototype.on,$r.prototype.once,$r.prototype.un;const Yr=$r;var Xr=0,Qr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),en=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.key=r,i.oldValue=n,i}return Qr(t,e),t}(Lr);const tn=function(e){function t(t){var r,n=e.call(this)||this;return n.on,n.once,n.un,(r=n).ol_uid||(r.ol_uid=String(++Xr)),n.values_=null,void 0!==t&&n.setProperties(t),n}return Qr(t,e),t.prototype.get=function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&Gr({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,t){var r;r="change:".concat(e),this.hasListener(r)&&this.dispatchEvent(new en(r,e,t)),r="propertychange",this.hasListener(r)&&this.dispatchEvent(new en(r,e,t))},t.prototype.addChangeListener=function(e,t){this.addEventListener("change:".concat(e),t)},t.prototype.removeChangeListener=function(e,t){this.removeEventListener("change:".concat(e),t)},t.prototype.set=function(e,t,r){var n=this.values_||(this.values_={});if(r)n[e]=t;else{var i=n[e];n[e]=t,i!==t&&this.notify(e,i)}},t.prototype.setProperties=function(e,t){for(var r in e)this.set(r,e[r],t)},t.prototype.applyProperties=function(e){e.values_&&Gr(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,t){if(this.values_&&e in this.values_){var r=this.values_[e];delete this.values_[e],function(e){var t;for(t in e)return!1;return!t}(this.values_)&&(this.values_=null),t||this.notify(e,r)}},t}(Yr);var rn="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"";rn.indexOf("firefox"),-1!==rn.indexOf("safari")&&rn.indexOf("chrom"),-1!==rn.indexOf("webkit")&&rn.indexOf("edge"),rn.indexOf("macintosh"),"undefined"!=typeof devicePixelRatio&&devicePixelRatio,"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&(self,WorkerGlobalScope);"undefined"!=typeof Image&&Image.prototype.decode,function(){try{var e=Object.defineProperty({},"passive",{get:function(){!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(e){}}();new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),new tn;var nn=new Hr;nn.setSize=function(){console.warn("labelCache is deprecated.")};var an="function"==typeof Object.assign?Object.assign:function(e,t){var r=arguments;if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1,a=arguments.length;i<a;++i){var o=r[i];if(null!=o)for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}return n};function on(e){return e*Math.PI/180}var sn=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function un(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);var r=document.createElement("canvas");return r.width=e,r.height=t,r}var ln,pn=Array(256).join(" ");function cn(e,t){if(t>=.05){for(var r="",n=e.split("\n"),i=pn.slice(0,Math.round(t/.1)),a=0,o=n.length;a<o;++a)a>0&&(r+="\n"),r+=n[a].split("").join(i);return r}return e}function dn(){return ln||(ln=un(1,1).getContext("2d")),ln}function fn(e,t){return dn().measureText(e).width+(e.length-1)*t}var yn={};function mn(e,t,r,n){if(-1!==e.indexOf("\n")){for(var i=e.split("\n"),a=[],o=0,s=i.length;o<s;++o)a.push(mn(i[o],t,r,n));return a.join("\n")}var u=r+","+t+","+e+","+n,l=yn[u];if(!l){var p=e.split(" ");if(p.length>1){var c=dn();c.font=t;for(var d=c.measureText("M").width*r,f="",y=[],m=0,h=p.length;m<h;++m){var v=p[m],g=f+(f?" ":"")+v;fn(g,n)<=d?f=g:(f&&y.push(f),f=v)}f&&y.push(f);for(var b=0,x=y.length;b<x&&x>1;++b){var k=y[b];if(fn(k,n)<.35*d){var j=b>0?fn(y[b-1],n):1/0,w=b<x-1?fn(y[b+1],n):1/0;y.splice(b,1),x-=1,j<w?(y[b-1]+=" "+k,b-=1):y[b]=k+" "+y[b]}}for(var S=0,z=y.length-1;S<z;++S){var M=y[S],C=y[S+1];if(fn(M,n)>.7*d&&fn(C,n)<.6*d){var _=M.split(" "),O=_.pop();fn(O,n)<.2*d&&(y[S]=_.join(" "),y[S+1]=O+" "+C),z-=1}}l=y.join("\n")}else l=e;l=cn(l,n),yn[u]=l}return l}function hn(e){return"object"==typeof e?["literal",e]:e}function vn(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function gn(e,t){var r,n,i=hn((r=e.default,n=t.default,void 0!==r?r:void 0!==n?n:void 0));return void 0===i&&"resolvedImage"===t.type?"":i}function bn(e,t,r){var n=jn(e,t),i=["get",e.property];if("categorical"===n&&"boolean"==typeof r[0][0]){for(var a=["case"],o=0,s=r;o<s.length;o+=1){var u=s[o];a.push(["==",i,u[0]],u[1])}return a.push(gn(e,t)),a}if("categorical"===n){for(var l=["match",i],p=0,c=r;p<c.length;p+=1){var d=c[p];kn(l,d[0],d[1],!1)}return l.push(gn(e,t)),l}if("interval"===n){for(var f=["step",["number",i]],y=0,m=r;y<m.length;y+=1){var h=m[y];kn(f,h[0],h[1],!0)}return xn(f),void 0===e.default?f:["case",["==",["typeof",i],"number"],f,hn(e.default)]}if("exponential"===n){for(var v=void 0!==e.base?e.base:1,g=[vn(e),1===v?["linear"]:["exponential",v],["number",i]],b=0,x=r;b<x.length;b+=1){var k=x[b];kn(g,k[0],k[1],!1)}return void 0===e.default?g:["case",["==",["typeof",i],"number"],g,hn(e.default)]}throw new Error("Unknown property function type "+n)}function xn(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function kn(e,t,r,n){e.length>3&&t===e[e.length-2]||(n&&2===e.length||e.push(t),e.push(r))}function jn(e,t){return e.type?e.type:t.expression.interpolated?"exponential":"interval"}function wn(e){for(var t=["concat"],r=/{([^{}]+)}/g,n=0,i=r.exec(e);null!==i;i=r.exec(e)){var a=e.slice(n,r.lastIndex-i[0].length);n=r.lastIndex,a.length>0&&t.push(a),t.push(["get",i[1]])}if(1===t.length)return e;if(n<e.length)t.push(e.slice(n));else if(2===t.length)return["to-string",t[1]];return t}nn&&Ur(nn,"clear",(function(){yn={}}));var Sn,zn,Mn={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Cn={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},_n={},On={zoom:0};function An(e,t,r,n,a,o){var s=e.id;o||(o={},console.warn("No functionCache provided to getValue()")),o[s]||(o[s]={});var u,l=o[s];if(!l[r]){var p=(e[t]||_n)[r],c=kr[t+"_"+e.type][r];void 0===p&&(p=c.default);var d=(u=p,Array.isArray(u)&&u.length>0&&"string"==typeof u[0]&&u[0]in er);if(!d&&ar(p)&&(p=function(e,t){var r=e.stops;if(!r)return function(e,t){var r=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",r]:r;if("enum"===t.type)return["match",r,Object.keys(t.values),r,e.default];var n=["color"===t.type?"to-color":t.type,r,hn(e.default)];return"array"===t.type&&n.splice(1,0,t.value,t.length||null),n}(e,t);var n=r&&"object"==typeof r[0][0],i=n||void 0!==e.property,a=n||!i;return r=r.map((function(e){return!i&&t.tokens&&"string"==typeof e[1]?[e[0],wn(e[1])]:[e[0],hn(e[1])]})),n?function(e,t,r){for(var n={},i={},a=[],o=0;o<r.length;o++){var s=r[o],u=s[0].zoom;void 0===n[u]&&(n[u]={zoom:u,type:e.type,property:e.property,default:e.default},i[u]=[],a.push(u)),i[u].push([s[0].value,s[1]])}if("exponential"===jn({},t)){for(var l=[vn(e),["linear"],["zoom"]],p=0,c=a;p<c.length;p+=1){var d=c[p];kn(l,d,bn(n[d],t,i[d]),!1)}return l}for(var f=["step",["zoom"]],y=0,m=a;y<m.length;y+=1){var h=m[y];kn(f,h,bn(n[h],t,i[h]),!0)}return xn(f),f}(e,t,r):a?function(e,t,r,n){void 0===n&&(n=["zoom"]);var i,a=jn(e,t),o=!1;if("interval"===a)i=["step",n],o=!0;else{if("exponential"!==a)throw new Error('Unknown zoom function type "'+a+'"');var s=void 0!==e.base?e.base:1;i=[vn(e),1===s?["linear"]:["exponential",s],n]}for(var u=0,l=r;u<l.length;u+=1){var p=l[u];kn(i,p[0],p[1],o)}return xn(i),i}(e,t,r):bn(e,t,r)}(p,c),d=!0),d){var f=function(e,t){var r=vr(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return e.key+": "+e.message})).join(", "));return r.value}(p,c);l[r]=f.evaluate.bind(f)}else"color"==c.type&&(p=i.parse(p)),l[r]=function(){return p}}return On.zoom=n,l[r](On,a)}function Tn(e,t,r,n,i){return i||console.warn("No filterCache provided to evaluateFilter()"),e in i||(i[e]=jr(t).filter),On.zoom=n,i[e](On,r)}var qn=!1;function En(e,t){if(e){if(!qn&&(0===e.a||0===t))return;var r=e.a;return t=void 0===t?1:t,0===r?"transparent":"rgba("+Math.round(255*e.r/r)+","+Math.round(255*e.g/r)+","+Math.round(255*e.b/r)+","+r*t+")"}return e}var Pn=/^([^]*)\{(.*)\}([^]*)$/;function Dn(e,t){var r;do{if(r=e.match(Pn)){var n=t[r[2]]||"";e=r[1]+n+r[3]}}while(r);return e}var Fn=!1;function In(e,t,r,n,i,a,o){if(void 0===n&&(n=sn),"string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");var s,u;if(a)if("undefined"!=typeof Image){var l=new Image;l.crossOrigin="anonymous",l.onload=function(){s=l,u=[l.width,l.height],e.changed(),l.onload=null},l.src=a}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var p=self;p.postMessage({action:"loadImage",src:a}),p.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===a&&(s=e.data.image,u=[s.width,s.height])}))}for(var c,d=function(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Fr(e[n],t[e[n].ref]));return e}(t.layers),f={},y=[],m={},w={},S={},z={},M=0,C=d.length;M<C;++M){var _=d[M],O=_.id;if("string"==typeof r&&_.source==r||-1!==r.indexOf(O)){var A=_["source-layer"];if(!c){c=_.source;var T=t.sources[c];if(!T)throw new Error('Source "'+c+'" is not defined');var q=T.type;if("vector"!==q&&"geojson"!==q)throw new Error('Source "'+c+'" is not of type "vector" or "geojson", but "'+q+'"')}var E=f[A];E||(E=[],f[A]=E),E.push({layer:_,index:M}),y.push(O)}}var P=new x,D=new v,F=[],I=function(e,t){var r=e.getProperties(),a=f[r.layer];if(a){var l=n.indexOf(t);-1==l&&(l=function(e,t){for(var r=0,n=t.length;r<n;++r)if(t[r]<e&&r+1<n){var i=t[r]/t[r+1];return r+Math.log(t[r]/e)/Math.log(i)}return n-1}(t,n));for(var p,c=Mn[e.getGeometry().getType()],d={properties:r,type:c},y=-1,M=0,C=a.length;M<C;++M){var _=a[M],O=_.layer,A=O.id,T=O.layout||_n,q=O.paint||_n;if(!("none"===T.visibility||"minzoom"in O&&l<O.minzoom||"maxzoom"in O&&l>=O.maxzoom)){var E=O.filter;if(!E||Tn(A,E,d,l,z)){p=O;var I=void 0,L=void 0,N=void 0,R=void 0,G=void 0,B=void 0,V=_.index;if(3==c&&("fill"==O.type||"fill-extrusion"==O.type))if(L=An(O,"paint",O.type+"-opacity",l,d,S),O.type+"-pattern"in q){var J=An(O,"paint",O.type+"-pattern",l,d,S);if(J){var H="string"==typeof J?Dn(J,r):J.toString();if(s&&i&&i[H]){++y,(B=F[y])&&B.getFill()&&!B.getStroke()&&!B.getText()||(B=new k({fill:new v}),F[y]=B),N=B.getFill(),B.setZIndex(V);var U=H+"."+L,K=w[U];if(!K){var W=i[H],Z=un(W.width,W.height),$=Z.getContext("2d");$.globalAlpha=L,$.drawImage(s,W.x,W.y,W.width,W.height,0,0,W.width,W.height),K=$.createPattern(Z,"repeat"),w[U]=K}N.setColor(K)}}}else I=En(An(O,"paint",O.type+"-color",l,d,S),L),O.type+"-outline-color"in q&&(G=En(An(O,"paint",O.type+"-outline-color",l,d,S),L)),G||(G=I),(I||G)&&(++y,(!(B=F[y])||I&&!B.getFill()||!I&&B.getFill()||G&&!B.getStroke()||!G&&B.getStroke()||B.getText())&&(B=new k({fill:I?new v:void 0,stroke:G?new x:void 0}),F[y]=B),I&&(N=B.getFill()).setColor(I),G&&((R=B.getStroke()).setColor(G),R.setWidth(.5)),B.setZIndex(V));if(1!=c&&"line"==O.type){I=!("line-pattern"in q)&&"line-color"in q?En(An(O,"paint","line-color",l,d,S),An(O,"paint","line-opacity",l,d,S)):void 0;var Y=An(O,"paint","line-width",l,d,S);I&&Y>0&&(++y,(B=F[y])&&B.getStroke()&&!B.getFill()&&!B.getText()||(B=new k({stroke:new x}),F[y]=B),(R=B.getStroke()).setLineCap(An(O,"layout","line-cap",l,d,S)),R.setLineJoin(An(O,"layout","line-join",l,d,S)),R.setMiterLimit(An(O,"layout","line-miter-limit",l,d,S)),R.setColor(I),R.setWidth(Y),R.setLineDash(q["line-dasharray"]?An(O,"paint","line-dasharray",l,d,S).map((function(e){return e*Y})):null),B.setZIndex(V))}var X=!1,Q=null,ee=0,te=void 0,re=void 0,ne=void 0;if((1==c||2==c)&&"icon-image"in T){var ie=An(O,"layout","icon-image",l,d,S);if(ie){te="string"==typeof ie?Dn(ie,r):ie.toString();var ae=void 0;if(s&&i&&i[te]){var oe=An(O,"layout","icon-rotation-alignment",l,d,S);if(2==c){var se=e.getGeometry();if(se.getFlatMidpoint||se.getFlatMidpoints){var ue=se.getExtent();if(Math.sqrt(Math.max(Math.pow((ue[2]-ue[0])/t,2),Math.pow((ue[3]-ue[1])/t,2)))>150){var le="MultiLineString"===se.getType()?se.getFlatMidpoints():se.getFlatMidpoint();if(zn||(zn=new b("Point",Sn=[NaN,NaN],[],{},null)),ae=zn,Sn[0]=le[0],Sn[1]=le[1],"line"===An(O,"layout","symbol-placement",l,d,S)&&"map"===oe)for(var pe=se.getStride(),ce=se.getFlatCoordinates(),de=0,fe=ce.length-pe;de<fe;de+=pe){var ye=ce[de],me=ce[de+1],he=ce[de+pe],ve=ce[de+pe+1],ge=Math.min(ye,he),be=Math.min(me,ve),xe=Math.max(ye,he),ke=Math.max(me,ve);if(le[0]>=ge&&le[0]<=xe&&le[1]>=be&&le[1]<=ke){ee=Math.atan2(me-ve,he-ye);break}}}}}if(2!==c||ae){var je=An(O,"layout","icon-size",l,d,S),we=void 0!==q["icon-color"]?An(O,"paint","icon-color",l,d,S):null;if(!we||0!==we.a){var Se=te+"."+je;if(null!==we&&(Se+="."+we),!(re=m[Se])){var ze=i[te];re=new g({color:we?[255*we.r,255*we.g,255*we.b,we.a]:void 0,img:s,imgSize:u,size:[ze.width,ze.height],offset:[ze.x,ze.y],rotateWithView:"map"===oe,scale:je/ze.pixelRatio,displacement:"icon-offset"in T?An(O,"layout","icon-offset",l,d,S).map((function(e){return-e*ze.pixelRatio})):void 0}),m[Se]=re}}re&&(++y,(B=F[y])&&B.getImage()&&!B.getFill()&&!B.getStroke()||(B=new k,F[y]=B),B.setGeometry(ae),re.setRotation(ee+on(An(O,"layout","icon-rotate",l,d,S))),re.setOpacity(An(O,"paint","icon-opacity",l,d,S)),re.setAnchor(Cn[An(O,"layout","icon-anchor",l,d,S)]),B.setImage(re),Q=B.getText(),B.setText(void 0),B.setZIndex(V),X=!0,ne=!1)}else ne=!0}}}if(1==c&&"circle"===O.type){++y,(B=F[y])&&B.getImage()&&!B.getFill()&&!B.getStroke()||(B=new k,F[y]=B);var Me="circle-radius"in q?An(O,"paint","circle-radius",l,d,S):5,Ce=En(An(O,"paint","circle-stroke-color",l,d,S),An(O,"paint","circle-stroke-opacity",l,d,S)),_e=En(An(O,"paint","circle-color",l,d,S),An(O,"paint","circle-opacity",l,d,S)),Oe=An(O,"paint","circle-stroke-width",l,d,S),Ae=Me+"."+Ce+"."+_e+"."+Oe;(re=m[Ae])||(re=new h({radius:Me,stroke:Ce&&Oe>0?new x({width:Oe,color:Ce}):void 0,fill:_e?new v({color:_e}):void 0}),m[Ae]=re),B.setImage(re),Q=B.getText(),B.setText(void 0),B.setGeometry(void 0),B.setZIndex(V),X=!0}var Te=void 0,qe=void 0,Ee=void 0,Pe=void 0,De=void 0,Fe=void 0;if("text-field"in T){Pe=Math.round(An(O,"layout","text-size",l,d,S));var Ie=An(O,"layout","text-font",l,d,S);Ee=An(O,"layout","text-line-height",l,d,S),qe=Ir(o?o(Ie):Ie,Pe,Ee),De=An(O,"layout","text-letter-spacing",l,d,S),Fe=An(O,"layout","text-max-width",l,d,S);var Le=An(O,"layout","text-field",l,d,S);Te="object"==typeof Le&&Le.sections?1===Le.sections.length?Le.toString():Le.sections.reduce((function(e,t,r){var n=t.fontStack?t.fontStack.split(","):Ie,i=Ir(o?o(n):n,Pe*(t.scale||1),Ee),a=t.text;if("\n"===a)return e.push("\n",""),e;if(2!=c){for(var s=0,u=(a=mn(a,i,Fe,De).split("\n")).length;s<u;++s)s>0&&e.push("\n",""),e.push(a[s],i);return e}e.push(cn(a,De),i)}),[]):Dn(Le,r).trim(),L=An(O,"paint","text-opacity",l,d,S)}if(Te&&L&&!ne){X||(++y,(B=F[y])&&B.getText()&&!B.getFill()&&!B.getStroke()||(B=new k,F[y]=B),B.setImage(void 0),B.setGeometry(void 0)),B.getText()||B.setText(Q||new j({padding:[2,2,2,2]})),Q=B.getText();var Ne=T["text-transform"];"uppercase"==Ne?Te=Array.isArray(Te)?Te.map((function(e,t){return t%2?e:e.toUpperCase()})):Te.toUpperCase():"lowercase"==Ne&&(Te=Array.isArray(Te)?Te.map((function(e,t){return t%2?e:e.toLowerCase()})):Te.toLowerCase());var Re=Array.isArray(Te)?Te:2==c?cn(Te,De):mn(Te,qe,Fe,De);Q.setText(Re),Q.setFont(qe),Q.setRotation(on(An(O,"layout","text-rotate",l,d,S)));var Ge=An(O,"layout","text-anchor",l,d,S),Be=X||1==c?"point":An(O,"layout","symbol-placement",l,d,S);Q.setPlacement(Be),Q.setOverflow("point"===Be);var Ve=An(O,"paint","text-halo-width",l,d,S),Je=An(O,"layout","text-offset",l,d,S),He=An(O,"paint","text-translate",l,d,S),Ue=0,Ke=0;if("point"==Be){var We="center";-1!==Ge.indexOf("left")?(We="left",Ke=Ve):-1!==Ge.indexOf("right")&&(We="right",Ke=-Ve),Q.setTextAlign(We);var Ze=An(O,"layout","text-rotation-alignment",l,d,S);Q.setRotateWithView("map"==Ze)}else Q.setMaxAngle(on(An(O,"layout","text-max-angle",l,d,S))*Te.length/Re.length),Q.setTextAlign(),Q.setRotateWithView(!1);var $e="middle";0==Ge.indexOf("bottom")?($e="bottom",Ue=-Ve-.5*(Ee-1)*Pe):0==Ge.indexOf("top")&&($e="top",Ue=Ve+.5*(Ee-1)*Pe),Q.setTextBaseline($e),Q.setOffsetX(Je[0]*Pe+Ke+He[0]),Q.setOffsetY(Je[1]*Pe+Ue+He[1]),D.setColor(En(An(O,"paint","text-color",l,d,S),L)),Q.setFill(D);var Ye=En(An(O,"paint","text-halo-color",l,d,S),L);if(Ye){P.setColor(Ye),Ve*=2;var Xe=.5*Pe;P.setWidth(Ve<=Xe?Ve:Xe),Q.setStroke(P)}else Q.setStroke(void 0);var Qe=An(O,"layout","text-padding",l,d,S),et=Q.getPadding();Qe!==et[0]&&(et[0]=Qe,et[1]=Qe,et[2]=Qe,et[3]=Qe),B.setZIndex(V)}}}}return y>-1?(F.length=y+1,Fn&&("function"==typeof e.set?e.set("mapbox-layer",p):e.getProperties()["mapbox-layer"]=p),F):void 0}};return e.setStyle(I),e.set("mapbox-source",c),e.set("mapbox-layers",y),I}var Ln,Nn=w(619),Rn=w(878),Gn=w(158),Bn=w(248),Vn={},Jn=/font-family: ?([^;]*);/,Hn=/("|')/g;function Un(e){if(!Ln){Ln={};for(var t=document.styleSheets,r=0,n=t.length;r<n;++r){var i=t[r];try{var a=i.rules||i.cssRules;if(a)for(var o=0,s=a.length;o<s;++o){var u=a[o];if(5==u.type){var l=u.cssText.match(Jn);Ln[l[1].replace(Hn,"")]=!0}}}catch(e){}}}return e in Ln}var Kn={},Wn=Nn.getNames();function Zn(e){var t=e.toString();if(t in Kn)return e;for(var r=e.map((function(e){var t=Ir(e,1).split(" ");return[t.slice(3).join(" ").replace(/"/g,""),t[1]+t[0]]})),n=0,i=r.length;n<i;++n){var a=r[n],o=a[0];if(!Un(o)&&-1!==Wn.indexOf(o)){var s="https://fonts.googleapis.com/css?family="+o.replace(/ /g,"+")+":"+a[1];if(!document.querySelector('link[href="'+s+'"]')){var u=document.createElement("link");u.href=s,u.rel="stylesheet",document.head.appendChild(u)}}}return Kn[t]=!0,e}var $n=/^(.*)(\?.*)$/;function Yn(e,t){return t&&0===e.indexOf(".")&&(e=t+e),e}function Xn(e,t,r){var n=(e=Yn(e,t)).match($n);return n?n[1]+r+(n.length>2?n[2]:""):e+r}function Qn(e,t,r,n,i){return new Promise((function(a,o){if("object"!=typeof t&&(t=JSON.parse(t)),8!=t.version)return o(new Error("glStyle version 8 required."));if(!(e instanceof c||e instanceof f))return o(new Error("Can only apply to VectorLayer or VectorTileLayer"));var s,u,l;function p(){l||t.sprite&&!s?l?(e.setStyle(l),a()):o(new Error("Something went wrong trying to apply style.")):(l=In(e,t,r,i,s,u,Zn),e.getStyle()?a():o(new Error("Nothing to show for source ["+r+"]")))}if(t.sprite){var d=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",y=Xn(t.sprite,n,d+".json");fetch(y,{credentials:"same-origin"}).then((function(e){return e.ok||""===d?e:(y=Xn(t.sprite,n,".json"),fetch(y,{credentials:"same-origin"}))})).then((function(e){if(e.ok)return e.json();o(new Error("Problem fetching sprite from "+y+": "+e.statusText))})).then((function(e){if(void 0===e)return o(new Error("No sprites found."));s=e,u=Xn(t.sprite,n,d+".png"),p()})).catch((function(e){o(new Error("Sprites cannot be loaded: "+y+": "+e.message))}))}else p()}))}var ei={};function ti(e,t){var r={id:t.id,type:t.type},n={};function a(a){var o=t.layout||{},s=t.paint||{};r.paint=s;var u,l,p="function"==typeof e.getSource?e.getSource().getTileGrid().getZForResolution(a):e.getView().getZoom(),c="function"==typeof e.getTargetElement?e.getTargetElement():void 0;if(void 0!==s["background-color"]&&(u=An(r,"paint","background-color",p,ei,n),c&&(c.style.background=i.parse(u).toString())),void 0!==s["background-opacity"]&&(l=An(r,"paint","background-opacity",p,ei,n),c&&(c.style.opacity=l)),"none"!=o.visibility)return En(u,l);c&&(c.style.backgroundColor="",c.style.opacity="")}if("function"==typeof e.getTargetElement)e.getTargetElement()&&a(),e.on(["change:resolution","change:target"],a);else{if("function"!=typeof e.setBackground)throw new Error("Unable to apply background.");e.setBackground(a)}}function ri(e,t){var r;return e.some((function(e){if(e.id==t)return r=e.source,!0})),r}function ni(e){var t=e.bounds;if(t){var r=(0,Gn.fromLonLat)([t[0],t[1]]),n=(0,Gn.fromLonLat)([t[2],t[3]]);return[r[0],r[1],n[0],n[1]]}}function ii(e,t){var r=new f({declutter:!0,visible:!1});return function(e,t){e=an({},e);var r=[t,JSON.stringify(e)].toString(),n=Vn[r];return n||(n=new l({url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0}),Vn[r]=n),new Promise((function(e){var r=n.on("change",(function(){var i=n.getState();if("ready"===i){var a=n.getTileJSON(),s=Array.isArray(a.tiles)?a.tiles:[a.tiles];if(t)for(var l=0,p=s.length;l<p;++l)s[l]=decodeURI(new URL(s[l],t).href);var c=n.getTileGrid(),d=ni(a),f=a.minzoom||0,m=a.maxzoom||22,h=n.get("ol-source");void 0===h&&(h=new y({attributions:n.getAttributions(),format:new o,tileGrid:new u({origin:c.getOrigin(0),extent:d||c.getExtent(),minZoom:f,resolutions:sn.slice(0,m+1),tileSize:512}),urls:s}),n.set("ol-source",h)),(0,Bn.unByKey)(r),e(h)}else"error"===i&&(n.set("ol-source",null),(0,Bn.unByKey)(r),e(void 0))}));"ready"===n.getState()&&n.changed()}))}(e,t).then((function(e){r.setSource(e)})),r}function ai(e,t){var r=new p,n=new l({transition:0,url:e.tiles?void 0:t,tileJSON:e.tiles?e:void 0,crossOrigin:"anonymous"}),i=n.on("change",(function(){var t=n.getState();if("ready"===t){(0,Bn.unByKey)(i);var a=n.getTileJSON(),o=ni(a),s=n.getTileGrid(),l=e.tileSize||a.tileSize||512,p=a.minzoom||0,c=a.maxzoom||22;n.tileGrid=new u({origin:s.getOrigin(0),extent:o||s.getExtent(),minZoom:p,resolutions:(0,Rn.createXYZ)({maxZoom:c,tileSize:l}).getResolutions(),tileSize:l}),r.setSource(n)}else"error"===t&&((0,Bn.unByKey)(i),r.setSource(void 0))}));return n.setTileLoadFunction((function(e,t){if(-1!=t.indexOf("{bbox-epsg-3857}")){var r=n.getTileGrid().getTileCoordExtent(e.getTileCoord());t=t.replace("{bbox-epsg-3857}",r.toString())}e.getImage().src=t})),r}var oi=new a;function si(e,t){var r,n,i=e.data;return"string"==typeof i?n=Yn(i,t):r=oi.readFeatures(i,{featureProjection:"EPSG:3857"}),new c({declutter:!0,source:new d({attributions:e.attribution,features:r,format:oi,url:n}),visible:!1})}function ui(e,t,r,n){var i=An(e,"paint","raster-opacity",r.getZoom(),ei,n);t.setOpacity(i)}function li(e,t,r,n,i,a){void 0===a&&(a="");var o=[],s=t.getView();s.isDef()||s.getRotation()||s.getResolutions()||(s=new m(an(s.getProperties(),{maxResolution:sn[0]})),t.setView(s)),"center"in e&&!s.getCenter()&&s.setCenter((0,Gn.fromLonLat)(e.center)),"zoom"in e&&void 0===s.getZoom()&&s.setResolution(sn[0]/Math.pow(2,e.zoom)),s.getCenter()&&void 0!==s.getZoom()||s.fit(s.getProjection().getExtent(),{nearest:!0,size:t.getSize()}),e.sprite&&(0==e.sprite.indexOf("mapbox://")?e.sprite=r+"/sprite"+a:0!=e.sprite.indexOf("http")&&(e.sprite=(n?n+i:"")+e.sprite+a));for(var u,l,p,c,d,f,y=e.layers,h=[],v=0,g=y.length;v<g;++v){var b=(u=y[v]).type;if("heatmap"==b||"hillshade"==b);else if("background"==b)ti(t,u);else{if((c=u.source||ri(y,u.ref))!=p){if(h.length&&(o.push(ci(d,h,e,i,t)),h=[]),f=(l=e.sources[c]).url)if(0==(f=Yn(f,i)).indexOf("mapbox://")){var x=f.replace("mapbox://","");l.tiles=["a","b","c","d"].map((function(e){return"https://"+e+".tiles.mapbox.com/v4/"+x+"/{z}/{x}/{y}."+("vector"==l.type?"vector.pbf":"png")+a}))}else 0===f.indexOf("/")&&0===n.indexOf("http")&&(f=n+f);if(l.tiles&&(l.tiles=l.tiles.map((function(e){return Yn(e,i)}))),"vector"==l.type)d=ii(l,f);else if("raster"==l.type){(d=ai(l,f)).setVisible(!u.layout||"none"!==u.layout.visibility);var k={};s.on("change:resolution",ui.bind(this,u,d,s,k)),ui(u,d,s,k)}else"geojson"==l.type&&(d=si(l,i));p=c,d&&d.set("mapbox-source",p)}h.push(u.id)}}return o.push(ci(d,h,e,i,t)),t.set("mapbox-style",e),Promise.all(o)}function pi(e,t){var r,n="",i="",a="",o="";if(("string"==typeof e||e instanceof HTMLElement)&&(e=new s({target:e})),"string"==typeof t){var u=t.match($n);u&&(i=u[1],n=u.length>2?u[2]:""),r=new Promise((function(r,s){fetch(t,{credentials:"same-origin"}).then((function(e){return e.json()})).then((function(u){var l=document.createElement("A");l.href=t;var p=l.href;o=l.pathname.split("/").slice(0,-1).join("/")+"/",a=p.substr(0,p.indexOf(o)),li(u,e,i,a,o,n).then((function(){r(e)})).catch(s)})).catch((function(e){s(new Error("Could not load "+t+": "+e.message))}))}))}else r=new Promise((function(r,n){li(t,e).then((function(){r(e)})).catch(n)}));return r}function ci(e,t,r,n,i){for(var a=24,o=0,s=r.layers,u=0,l=s.length;u<l;++u){var p=s[u];-1!==t.indexOf(p.id)&&(a=Math.min("minzoom"in p?p.minzoom:0,a),o=Math.max("maxzoom"in p?p.maxzoom:24,o))}return new Promise((function(s,u){var l=function(){var i=e.getSource();if(i&&"error"!==i.getState()){if("getTileGrid"in i){var l=i.getTileGrid();if(l){var p=l.getMinZoom();(a>0||p>0)&&e.setMaxResolution(Math.min(sn[a],l.getResolution(p))+1e-9),o<24&&e.setMinResolution(sn[o]+1e-9)}}i instanceof d||i instanceof y?Qn(e,r,t,n).then((function(){e.setVisible(!0),s()}),(function(e){u(e)})):s()}else u(new Error("Error accessing data for source "+e.get("mapbox-source")))};e.set("mapbox-layers",t),-1===i.getLayers().getArray().indexOf(e)&&i.addLayer(e),e.getSource()?l():e.once("change:source",l)}))}an(pi,{apply:function(e,t){return("string"==typeof e||e instanceof HTMLElement)&&(e=new s({target:e})),setTimeout((function(){pi(e,t)}),0),e},applyBackground:function(e,t){t.layers.some((function(t){if("background"==t.type)return ti(e,t),!0}))},applyStyle:Qn,stylefunction:In,recordStyleLayer:function(e){Fn=e},renderTransparent:function(e){qn=e}});const di=pi})(),S.default})()}));
//# sourceMappingURL=olms.js.map