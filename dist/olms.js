!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ol/style/Circle.js"),require("ol/style/Fill.js"),require("ol/style/Icon.js"),require("ol/render/Feature.js"),require("ol/style/Stroke.js"),require("ol/style/Style.js"),require("ol/style/Text.js"),require("ol/obj.js"),require("ol/format/GeoJSON.js"),require("ol/format/MVT.js"),require("ol/Map.js"),require("ol/tilegrid/TileGrid.js"),require("ol/source/TileJSON.js"),require("ol/layer/Tile.js"),require("ol/layer/Vector.js"),require("ol/source/Vector.js"),require("ol/layer/VectorTile.js"),require("ol/source/VectorTile.js"),require("ol/View.js"),require("ol/tilegrid.js"),require("ol/proj.js")):"function"==typeof define&&define.amd?define(["ol/style/Circle.js","ol/style/Fill.js","ol/style/Icon.js","ol/render/Feature.js","ol/style/Stroke.js","ol/style/Style.js","ol/style/Text.js","ol/obj.js","ol/format/GeoJSON.js","ol/format/MVT.js","ol/Map.js","ol/tilegrid/TileGrid.js","ol/source/TileJSON.js","ol/layer/Tile.js","ol/layer/Vector.js","ol/source/Vector.js","ol/layer/VectorTile.js","ol/source/VectorTile.js","ol/View.js","ol/tilegrid.js","ol/proj.js"],t):"object"==typeof exports?exports.olms=t(require("ol/style/Circle.js"),require("ol/style/Fill.js"),require("ol/style/Icon.js"),require("ol/render/Feature.js"),require("ol/style/Stroke.js"),require("ol/style/Style.js"),require("ol/style/Text.js"),require("ol/obj.js"),require("ol/format/GeoJSON.js"),require("ol/format/MVT.js"),require("ol/Map.js"),require("ol/tilegrid/TileGrid.js"),require("ol/source/TileJSON.js"),require("ol/layer/Tile.js"),require("ol/layer/Vector.js"),require("ol/source/Vector.js"),require("ol/layer/VectorTile.js"),require("ol/source/VectorTile.js"),require("ol/View.js"),require("ol/tilegrid.js"),require("ol/proj.js")):e.olms=t(e.ol.style.Circle,e.ol.style.Fill,e.ol.style.Icon,e.ol.render.Feature,e.ol.style.Stroke,e.ol.style.Style,e.ol.style.Text,e.ol.obj,e.ol.format.GeoJSON,e.ol.format.MVT,e.ol.Map,e.ol.tilegrid.TileGrid,e.ol.source.TileJSON,e.ol.layer.Tile,e.ol.layer.Vector,e.ol.source.Vector,e.ol.layer.VectorTile,e.ol.source.VectorTile,e.ol.View,e.ol.tilegrid,e.ol.proj)}(self,((e,t,r,n,a,i,o,s,u,l,p,c,f,d,y,h,m,v,g,b,x)=>(()=>{var w={338:e=>{"use strict";function t(e,t){this.x=e,this.y=t}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,a=r*this.x+t*this.y;return this.x=n,this.y=a,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),a=t.x+r*(this.x-t.x)-n*(this.y-t.y),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=a,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},946:e=>{function t(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}e.exports=t,t.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},t.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},t.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},t.prototype.solveCurveX=function(e,t){var r,n,a,i,o;for(void 0===t&&(t=1e-6),a=e,o=0;o<8;o++){if(i=this.sampleCurveX(a)-e,Math.abs(i)<t)return a;var s=this.sampleCurveDerivativeX(a);if(Math.abs(s)<1e-6)break;a-=i/s}if((a=e)<(r=0))return r;if(a>(n=1))return n;for(;r<n;){if(i=this.sampleCurveX(a),Math.abs(i-e)<t)return a;e>i?r=a:n=a,a=.5*(n-r)+r}return a},t.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},872:(e,t)=>{var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function a(e){return e<0?0:e>1?1:e}function i(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function o(e){return"%"===e[e.length-1]?a(parseFloat(e)/100):a(parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.G=function(e){var t,a=e.replace(/ /g,"").toLowerCase();if(a in r)return r[a].slice();if("#"===a[0])return 4===a.length?(t=parseInt(a.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===a.length&&(t=parseInt(a.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var u=a.indexOf("("),l=a.indexOf(")");if(-1!==u&&l+1===a.length){var p=a.substr(0,u),c=a.substr(u+1,l-(u+1)).split(","),f=1;switch(p){case"rgba":if(4!==c.length)return null;f=o(c.pop());case"rgb":return 3!==c.length?null:[i(c[0]),i(c[1]),i(c[2]),f];case"hsla":if(4!==c.length)return null;f=o(c.pop());case"hsl":if(3!==c.length)return null;var d=(parseFloat(c[0])%360+360)%360/360,y=o(c[1]),h=o(c[2]),m=h<=.5?h*(y+1):h+y-h*y,v=2*h-m;return[n(255*s(v,m,d+1/3)),n(255*s(v,m,d)),n(255*s(v,m,d-1/3)),f];default:return null}}return null}}catch(e){}},523:e=>{var t={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},r=" ",n=/(italic|oblique)$/i,a={};e.exports=function(e,i,o){var s=a[e];if(!s){Array.isArray(e)||(e=[e]);for(var u=400,l="normal",p=[],c=0,f=e.length;c<f;++c){var d=e[c].split(" "),y=d[d.length-1].toLowerCase();for(var h in"normal"==y||"italic"==y||"oblique"==y?(l=y,d.pop(),y=d[d.length-1].toLowerCase()):n.test(y)&&(y=y.replace(n,""),l=d[d.length-1].replace(y,"")),t){var m=d.length>1?d[d.length-2].toLowerCase():"";if(y==h||y==h.replace("-","")||m+"-"+y==h){u=t[h],d.pop(),m&&h.startsWith(m)&&d.pop();break}}"number"==typeof y&&(u=y);var v=d.join(r).replace("Klokantech Noto Sans","Noto Sans");-1!==v.indexOf(r)&&(v='"'+v+'"'),p.push(v)}s=a[e]=[l,u,p]}return s[0]+r+s[1]+r+i+"px"+(o?"/"+o:"")+r+s[2]}},619:e=>{e.exports=function e(r,n){if(!r){var a=new t(n);throw Error.captureStackTrace&&Error.captureStackTrace(a,e),a}};var t=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);t.prototype.name="AssertionError"},422:function(e){(function(){var t;e.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return t},getLink:function(e){return"https://fonts.google.com/specimen/"+e.replace(/( )/g,"+")},normalizeName:function(e){return e}},t=["ABeeZee","Abel","Abril Fatface","Aclonica","Acme","Actor","Adamina","Advent Pro","Aguafina Script","Akronim","Aladin","Aldrich","Alef","Alegreya","Alegreya SC","Alegreya Sans","Alegreya Sans SC","Alex Brush","Alfa Slab One","Alice","Alike","Alike Angular","Allan","Allerta","Allerta Stencil","Allura","Almendra","Almendra Display","Almendra SC","Amarante","Amaranth","Amatic SC","Amethysta","Amiri","Amita","Anaheim","Andada","Andika","Angkor","Annie Use Your Telescope","Anonymous Pro","Antic","Antic Didone","Antic Slab","Anton","Arapey","Arbutus","Arbutus Slab","Architects Daughter","Archivo Black","Archivo Narrow","Arimo","Arizonia","Armata","Artifika","Arvo","Arya","Asap","Asar","Asset","Astloch","Asul","Atomic Age","Aubrey","Audiowide","Autour One","Average","Average Sans","Averia Gruesa Libre","Averia Libre","Averia Sans Libre","Averia Serif Libre","Bad Script","Balthazar","Bangers","Basic","Battambang","Baumans","Bayon","Belgrano","Belleza","BenchNine","Bentham","Berkshire Swash","Bevan","Bigelow Rules","Bigshot One","Bilbo","Bilbo Swash Caps","Biryani","Bitter","Black Ops One","Bokor","Bonbon","Boogaloo","Bowlby One","Bowlby One SC","Brawler","Bree Serif","Bubblegum Sans","Bubbler One","Buda","Buenard","Butcherman","Butterfly Kids","Cabin","Cabin Condensed","Cabin Sketch","Caesar Dressing","Cagliostro","Calligraffitti","Cambay","Cambo","Candal","Cantarell","Cantata One","Cantora One","Capriola","Cardo","Carme","Carrois Gothic","Carrois Gothic SC","Carter One","Catamaran","Caudex","Caveat","Caveat Brush","Cedarville Cursive","Ceviche One","Changa One","Chango","Chau Philomene One","Chela One","Chelsea Market","Chenla","Cherry Cream Soda","Cherry Swash","Chewy","Chicle","Chivo","Chonburi","Cinzel","Cinzel Decorative","Clicker Script","Coda","Coda Caption","Codystar","Combo","Comfortaa","Coming Soon","Concert One","Condiment","Content","Contrail One","Convergence","Cookie","Copse","Corben","Courgette","Cousine","Coustard","Covered By Your Grace","Crafty Girls","Creepster","Crete Round","Crimson Text","Croissant One","Crushed","Cuprum","Cutive","Cutive Mono","Damion","Dancing Script","Dangrek","Dawning of a New Day","Days One","Dekko","Delius","Delius Swash Caps","Delius Unicase","Della Respira","Denk One","Devonshire","Dhurjati","Didact Gothic","Diplomata","Diplomata SC","Domine","Donegal One","Doppio One","Dorsa","Dosis","Dr Sugiyama","Droid Sans","Droid Sans Mono","Droid Serif","Duru Sans","Dynalight","EB Garamond","Eagle Lake","Eater","Economica","Eczar","Ek Mukta","Electrolize","Elsie","Elsie Swash Caps","Emblema One","Emilys Candy","Engagement","Englebert","Enriqueta","Erica One","Esteban","Euphoria Script","Ewert","Exo","Exo 2","Expletus Sans","Fanwood Text","Fascinate","Fascinate Inline","Faster One","Fasthand","Fauna One","Federant","Federo","Felipa","Fenix","Finger Paint","Fira Mono","Fira Sans","Fjalla One","Fjord One","Flamenco","Flavors","Fondamento","Fontdiner Swanky","Forum","Francois One","Freckle Face","Fredericka the Great","Fredoka One","Freehand","Fresca","Frijole","Fruktur","Fugaz One","GFS Didot","GFS Neohellenic","Gabriela","Gafata","Galdeano","Galindo","Gentium Basic","Gentium Book Basic","Geo","Geostar","Geostar Fill","Germania One","Gidugu","Gilda Display","Give You Glory","Glass Antiqua","Glegoo","Gloria Hallelujah","Goblin One","Gochi Hand","Gorditas","Goudy Bookletter 1911","Graduate","Grand Hotel","Gravitas One","Great Vibes","Griffy","Gruppo","Gudea","Gurajada","Habibi","Halant","Hammersmith One","Hanalei","Hanalei Fill","Handlee","Hanuman","Happy Monkey","Headland One","Henny Penny","Herr Von Muellerhoff","Hind","Hind Siliguri","Hind Vadodara","Holtwood One SC","Homemade Apple","Homenaje","IM Fell DW Pica","IM Fell DW Pica SC","IM Fell Double Pica","IM Fell Double Pica SC","IM Fell English","IM Fell English SC","IM Fell French Canon","IM Fell French Canon SC","IM Fell Great Primer","IM Fell Great Primer SC","Iceberg","Iceland","Imprima","Inconsolata","Inder","Indie Flower","Inika","Inknut Antiqua","Irish Grover","Istok Web","Italiana","Italianno","Itim","Jacques Francois","Jacques Francois Shadow","Jaldi","Jim Nightshade","Jockey One","Jolly Lodger","Josefin Sans","Josefin Slab","Joti One","Judson","Julee","Julius Sans One","Junge","Jura","Just Another Hand","Just Me Again Down Here","Kadwa","Kalam","Kameron","Kantumruy","Karla","Karma","Kaushan Script","Kavoon","Kdam Thmor","Keania One","Kelly Slab","Kenia","Khand","Khmer","Khula","Kite One","Knewave","Kotta One","Koulen","Kranky","Kreon","Kristi","Krona One","Kurale","La Belle Aurore","Laila","Lakki Reddy","Lancelot","Lateef","Lato","League Script","Leckerli One","Ledger","Lekton","Lemon","Libre Baskerville","Life Savers","Lilita One","Lily Script One","Limelight","Linden Hill","Lobster","Lobster Two","Londrina Outline","Londrina Shadow","Londrina Sketch","Londrina Solid","Lora","Love Ya Like A Sister","Loved by the King","Lovers Quarrel","Luckiest Guy","Lusitana","Lustria","Macondo","Macondo Swash Caps","Magra","Maiden Orange","Mako","Mallanna","Mandali","Marcellus","Marcellus SC","Marck Script","Margarine","Marko One","Marmelad","Martel","Martel Sans","Marvel","Mate","Mate SC","Maven Pro","McLaren","Meddon","MedievalSharp","Medula One","Megrim","Meie Script","Merienda","Merienda One","Merriweather","Merriweather Sans","Metal","Metal Mania","Metamorphous","Metrophobic","Michroma","Milonga","Miltonian","Miltonian Tattoo","Miniver","Miss Fajardose","Modak","Modern Antiqua","Molengo","Molle","Monda","Monofett","Monoton","Monsieur La Doulaise","Montaga","Montez","Montserrat","Montserrat Alternates","Montserrat Subrayada","Moul","Moulpali","Mountains of Christmas","Mouse Memoirs","Mr Bedfort","Mr Dafoe","Mr De Haviland","Mrs Saint Delafield","Mrs Sheppards","Muli","Mystery Quest","NTR","Neucha","Neuton","New Rocker","News Cycle","Niconne","Nixie One","Nobile","Nokora","Norican","Nosifer","Nothing You Could Do","Noticia Text","Noto Sans","Noto Serif","Nova Cut","Nova Flat","Nova Mono","Nova Oval","Nova Round","Nova Script","Nova Slim","Nova Square","Numans","Nunito","Odor Mean Chey","Offside","Old Standard TT","Oldenburg","Oleo Script","Oleo Script Swash Caps","Open Sans","Open Sans Condensed","Oranienbaum","Orbitron","Oregano","Orienta","Original Surfer","Oswald","Over the Rainbow","Overlock","Overlock SC","Ovo","Oxygen","Oxygen Mono","PT Mono","PT Sans","PT Sans Caption","PT Sans Narrow","PT Serif","PT Serif Caption","Pacifico","Palanquin","Palanquin Dark","Paprika","Parisienne","Passero One","Passion One","Pathway Gothic One","Patrick Hand","Patrick Hand SC","Patua One","Paytone One","Peddana","Peralta","Permanent Marker","Petit Formal Script","Petrona","Philosopher","Piedra","Pinyon Script","Pirata One","Plaster","Play","Playball","Playfair Display","Playfair Display SC","Podkova","Poiret One","Poller One","Poly","Pompiere","Pontano Sans","Poppins","Port Lligat Sans","Port Lligat Slab","Pragati Narrow","Prata","Preahvihear","Press Start 2P","Princess Sofia","Prociono","Prosto One","Puritan","Purple Purse","Quando","Quantico","Quattrocento","Quattrocento Sans","Questrial","Quicksand","Quintessential","Qwigley","Racing Sans One","Radley","Rajdhani","Raleway","Raleway Dots","Ramabhadra","Ramaraja","Rambla","Rammetto One","Ranchers","Rancho","Ranga","Rationale","Ravi Prakash","Redressed","Reenie Beanie","Revalia","Rhodium Libre","Ribeye","Ribeye Marrow","Righteous","Risque","Roboto","Roboto Condensed","Roboto Mono","Roboto Slab","Rochester","Rock Salt","Rokkitt","Romanesco","Ropa Sans","Rosario","Rosarivo","Rouge Script","Rozha One","Rubik","Rubik Mono One","Rubik One","Ruda","Rufina","Ruge Boogie","Ruluko","Rum Raisin","Ruslan Display","Russo One","Ruthie","Rye","Sacramento","Sahitya","Sail","Salsa","Sanchez","Sancreek","Sansita One","Sarala","Sarina","Sarpanch","Satisfy","Scada","Scheherazade","Schoolbell","Seaweed Script","Sevillana","Seymour One","Shadows Into Light","Shadows Into Light Two","Shanti","Share","Share Tech","Share Tech Mono","Shojumaru","Short Stack","Siemreap","Sigmar One","Signika","Signika Negative","Simonetta","Sintony","Sirin Stencil","Six Caps","Skranji","Slabo 13px","Slabo 27px","Slackey","Smokum","Smythe","Sniglet","Snippet","Snowburst One","Sofadi One","Sofia","Sonsie One","Sorts Mill Goudy","Source Code Pro","Source Sans Pro","Source Serif Pro","Special Elite","Spicy Rice","Spinnaker","Spirax","Squada One","Sree Krushnadevaraya","Stalemate","Stalinist One","Stardos Stencil","Stint Ultra Condensed","Stint Ultra Expanded","Stoke","Strait","Sue Ellen Francisco","Sumana","Sunshiney","Supermercado One","Sura","Suranna","Suravaram","Suwannaphum","Swanky and Moo Moo","Syncopate","Tangerine","Taprom","Tauri","Teko","Telex","Tenali Ramakrishna","Tenor Sans","Text Me One","The Girl Next Door","Tienne","Tillana","Timmana","Tinos","Titan One","Titillium Web","Trade Winds","Trocchi","Trochut","Trykker","Tulpen One","Ubuntu","Ubuntu Condensed","Ubuntu Mono","Ultra","Uncial Antiqua","Underdog","Unica One","UnifrakturCook","UnifrakturMaguntia","Unkempt","Unlock","Unna","VT323","Vampiro One","Varela","Varela Round","Vast Shadow","Vesper Libre","Vibur","Vidaloka","Viga","Voces","Volkhov","Vollkorn","Voltaire","Waiting for the Sunrise","Wallpoet","Walter Turncoat","Warnes","Wellfleet","Wendy One","Wire One","Work Sans","Yanone Kaffeesatz","Yantramanav","Yellowtail","Yeseva One","Yesteryear","Zeyada"]}).call(this)},840:e=>{e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{}},default:"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}}},195:e=>{"use strict";e.exports=p},744:e=>{"use strict";e.exports=g},198:e=>{"use strict";e.exports=u},993:e=>{"use strict";e.exports=l},561:e=>{"use strict";e.exports=d},255:e=>{"use strict";e.exports=y},984:e=>{"use strict";e.exports=m},42:e=>{"use strict";e.exports=s},860:e=>{"use strict";e.exports=x},583:e=>{"use strict";e.exports=n},491:e=>{"use strict";e.exports=f},31:e=>{"use strict";e.exports=h},729:e=>{"use strict";e.exports=v},611:t=>{"use strict";t.exports=e},183:e=>{"use strict";e.exports=t},342:e=>{"use strict";e.exports=r},821:e=>{"use strict";e.exports=a},310:e=>{"use strict";e.exports=i},376:e=>{"use strict";e.exports=o},757:e=>{"use strict";e.exports=b},895:e=>{"use strict";e.exports=c}},k={};function S(e){var t=k[e];if(void 0!==t)return t.exports;var r=k[e]={exports:{}};return w[e].call(r.exports,r,r.exports,S),r.exports}S.d=(e,t)=>{for(var r in t)S.o(t,r)&&!S.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},S.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),S.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var z={};return(()=>{"use strict";S.r(z),S.d(z,{apply:()=>na,applyBackground:()=>Wn,applyStyle:()=>Bn,default:()=>na,getFeatureState:()=>la,getLayer:()=>ia,getLayers:()=>oa,getSource:()=>sa,recordStyleLayer:()=>Cn,renderTransparent:()=>wn,setFeatureState:()=>ua,stylefunction:()=>An});var e={};S.r(e),S.d(e,{array:()=>Qe,color:()=>Xe,number:()=>$e});var t={};S.r(t),S.d(t,{hcl:()=>ht,lab:()=>yt});var r=S(611),n=S(183),a=S(342),i=S(583),o=S(821),s=S(310),u=S(376),l=S(872),p=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};p.parse=function(e){if(e){if(e instanceof p)return e;if("string"==typeof e){var t=(0,l.G)(e);if(t)return new p(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},p.prototype.toString=function(){var e=this.toArray(),t=e[0],r=e[1],n=e[2],a=e[3];return"rgba("+Math.round(t)+","+Math.round(r)+","+Math.round(n)+","+a+")"},p.prototype.toArray=function(){var e=this,t=e.r,r=e.g,n=e.b,a=e.a;return 0===a?[0,0,0,0]:[255*t/a,255*r/a,255*n/a,a]},p.black=new p(0,0,0,1),p.white=new p(1,1,1,1),p.transparent=new p(0,0,0,0),p.red=new p(1,0,0,1),p.blue=new p(0,0,1,1);const c=p;var f=S(619);function d(e){return"object"==typeof e?["literal",e]:e}function y(e){switch(e.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function h(e,t){var r,n,a=d((r=e.default,n=t.default,void 0!==r?r:void 0!==n?n:void 0));return void 0===a&&"resolvedImage"===t.type?"":a}function m(e,t,r){var n=b(e,t),a=["get",e.property];if("categorical"===n&&"boolean"==typeof r[0][0]){f(e.stops.length>0&&e.stops.length<=2);for(var i=["case"],o=0,s=r;o<s.length;o+=1){var u=s[o];i.push(["==",a,u[0]],u[1])}return i.push(h(e,t)),i}if("categorical"===n){for(var l=["match",a],p=0,c=r;p<c.length;p+=1){var m=c[p];g(l,m[0],m[1],!1)}return l.push(h(e,t)),l}if("interval"===n){for(var x=["step",["number",a]],w=0,k=r;w<k.length;w+=1){var S=k[w];g(x,S[0],S[1],!0)}return v(x),void 0===e.default?x:["case",["==",["typeof",a],"number"],x,d(e.default)]}if("exponential"===n){for(var z=void 0!==e.base?e.base:1,M=[y(e),1===z?["linear"]:["exponential",z],["number",a]],C=0,A=r;C<A.length;C+=1){var T=A[C];g(M,T[0],T[1],!1)}return void 0===e.default?M:["case",["==",["typeof",a],"number"],M,d(e.default)]}throw new Error("Unknown property function type "+n)}function v(e){"step"===e[0]&&3===e.length&&(e.push(0),e.push(e[3]))}function g(e,t,r,n){e.length>3&&t===e[e.length-2]||(n&&2===e.length||e.push(t),e.push(r))}function b(e,t){return e.type?e.type:(f(t.expression),t.expression.interpolated?"exponential":"interval")}function x(e){for(var t=["concat"],r=/{([^{}]+)}/g,n=0,a=r.exec(e);null!==a;a=r.exec(e)){var i=e.slice(n,r.lastIndex-a[0].length);n=r.lastIndex,i.length>0&&t.push(i),t.push(["get",a[1]])}if(1===t.length)return e;if(n<e.length)t.push(e.slice(n));else if(2===t.length)return["to-string",t[1]];return t}function w(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,a=t;n<a.length;n+=1){var i=a[n];for(var o in i)e[o]=i[o]}return e}const k=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);var M=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var a=n[r],i=a[0],o=a[1];this.bindings[i]=o}};M.prototype.concat=function(e){return new M(this,e)},M.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},M.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};const C=M;var A={kind:"null"},T={kind:"number"},q={kind:"string"},O={kind:"boolean"},j={kind:"color"},_={kind:"object"},E={kind:"value"},F={kind:"collator"},P={kind:"formatted"},D={kind:"resolvedImage"};function I(e,t){return{kind:"array",itemType:e,N:t}}function R(e){if("array"===e.kind){var t=R(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var L=[A,T,q,O,j,P,_,I(E),D];function N(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!N(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=L;r<n.length;r+=1)if(!N(n[r],t))return null}return"Expected "+R(e)+" but found "+R(t)+" instead."}function G(e,t){return t.some((function(t){return t.kind===e.kind}))}function B(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}var V=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};V.prototype.compare=function(e,t){return this.collator.compare(e,t)},V.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};const U=V;var J=function(e,t,r,n,a){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=a},W=function(e){this.sections=e};W.fromString=function(e){return new W([new J(e,null,null,null,null)])},W.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))},W.factory=function(e){return e instanceof W?e:W.fromString(e)},W.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")},W.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];if(n.image)e.push(["image",n.image.name]);else{e.push(n.text);var a={};n.fontStack&&(a["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(a["font-scale"]=n.scale),n.textColor&&(a["text-color"]=["rgba"].concat(n.textColor.toArray())),e.push(a)}}return e};const H=W;var K=function(e){this.name=e.name,this.available=e.available};K.prototype.toString=function(){return this.name},K.fromString=function(e){return e?new K({name:e,available:!1}):null},K.prototype.serialize=function(){return["image",this.name]};const Z=K;function Y(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function $(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof c)return!0;if(e instanceof U)return!0;if(e instanceof H)return!0;if(e instanceof Z)return!0;if(Array.isArray(e)){for(var t=0,r=e;t<r.length;t+=1)if(!$(r[t]))return!1;return!0}if("object"==typeof e){for(var n in e)if(!$(e[n]))return!1;return!0}return!1}function X(e){if(null===e)return A;if("string"==typeof e)return q;if("boolean"==typeof e)return O;if("number"==typeof e)return T;if(e instanceof c)return j;if(e instanceof U)return F;if(e instanceof H)return P;if(e instanceof Z)return D;if(Array.isArray(e)){for(var t,r=e.length,n=0,a=e;n<a.length;n+=1){var i=X(a[n]);if(t){if(t===i)continue;t=E;break}t=i}return I(t||E,r)}return f("object"==typeof e),_}function Q(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof c||e instanceof H||e instanceof Z?e.toString():JSON.stringify(e)}var ee=function(e,t){this.type=e,this.value=t};ee.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!$(e[1]))return t.error("invalid value");var r=e[1],n=X(r),a=t.expectedType;return"array"!==n.kind||0!==n.N||!a||"array"!==a.kind||"number"==typeof a.N&&0!==a.N||(n=a),new ee(n,r)},ee.prototype.evaluate=function(){return this.value},ee.prototype.eachChild=function(){},ee.prototype.outputDefined=function(){return!0},ee.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof c?["rgba"].concat(this.value.toArray()):this.value instanceof H?this.value.serialize():(f(null===this.value||"string"==typeof this.value||"number"==typeof this.value||"boolean"==typeof this.value),this.value)};const te=ee;var re=function(e){this.name="ExpressionEvaluationError",this.message=e};re.prototype.toJSON=function(){return this.message};const ne=re;var ae={string:q,number:T,boolean:O,object:_},ie=function(e,t){this.type=e,this.args=t};ie.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,a=e[0];if("array"===a){var i,o;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in ae)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=ae[s],n++}else i=E;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=I(i,o)}else f(ae[a],a),r=ae[a];for(var u=[];n<e.length;n++){var l=t.parse(e[n],n,E);if(!l)return null;u.push(l)}return new ie(r,u)},ie.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!N(this.type,X(r)))return r;if(t===this.args.length-1)throw new ne("Expected value to be of type "+R(this.type)+", but found "+R(X(r))+" instead.")}return f(!1),null},ie.prototype.eachChild=function(e){this.args.forEach(e)},ie.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},ie.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))};const oe=ie;var se=function(e){this.type=P,this.sections=e};se.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");for(var n=[],a=!1,i=1;i<=e.length-1;++i){var o=e[i];if(a&&"object"==typeof o&&!Array.isArray(o)){a=!1;var s=null;if(o["font-scale"]&&!(s=t.parse(o["font-scale"],1,T)))return null;var u=null;if(o["text-font"]&&!(u=t.parse(o["text-font"],1,I(q))))return null;var l=null;if(o["text-color"]&&!(l=t.parse(o["text-color"],1,j)))return null;var p=n[n.length-1];p.scale=s,p.font=u,p.textColor=l}else{var c=t.parse(e[i],1,E);if(!c)return null;var f=c.type.kind;if("string"!==f&&"value"!==f&&"null"!==f&&"resolvedImage"!==f)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");a=!0,n.push({content:c,scale:null,font:null,textColor:null})}}return new se(n)},se.prototype.evaluate=function(e){return new H(this.sections.map((function(t){var r=t.content.evaluate(e);return X(r)===D?new J("",r,null,null,null):new J(Q(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))},se.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}},se.prototype.outputDefined=function(){return!1},se.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.content.serialize());var a={};n.scale&&(a["font-scale"]=n.scale.serialize()),n.font&&(a["text-font"]=n.font.serialize()),n.textColor&&(a["text-color"]=n.textColor.serialize()),e.push(a)}return e};const ue=se;var le=function(e){this.type=D,this.input=e};le.parse=function(e,t){if(2!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,q);return r?new le(r):t.error("No image name provided.")},le.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=Z.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r},le.prototype.eachChild=function(e){e(this.input)},le.prototype.outputDefined=function(){return!1},le.prototype.serialize=function(){return["image",this.input.serialize()]};const pe=le;var ce={"to-boolean":O,"to-color":j,"to-number":T,"to-string":q},fe=function(e,t){this.type=e,this.args=t};fe.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(f(ce[r],r),("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=ce[r],a=[],i=1;i<e.length;i++){var o=t.parse(e[i],i,E);if(!o)return null;a.push(o)}return new fe(n,a)},fe.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,a=this.args;n<a.length;n+=1){if(r=null,(t=a[n].evaluate(e))instanceof c)return t;if("string"==typeof t){var i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":Y(t[0],t[1],t[2],t[3])))return new c(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ne(r||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var o=null,s=0,u=this.args;s<u.length;s+=1){if(null===(o=u[s].evaluate(e)))return 0;var l=Number(o);if(!isNaN(l))return l}throw new ne("Could not convert "+JSON.stringify(o)+" to number.")}return"formatted"===this.type.kind?H.fromString(Q(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Z.fromString(Q(this.args[0].evaluate(e))):Q(this.args[0].evaluate(e))},fe.prototype.eachChild=function(e){this.args.forEach(e)},fe.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},fe.prototype.serialize=function(){if("formatted"===this.type.kind)return new ue([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new pe(this.args[0]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};const de=fe;var ye=["Unknown","Point","LineString","Polygon"],he=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null};he.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},he.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ye[this.feature.type]:this.feature.type:null},he.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},he.prototype.canonicalID=function(){return this.canonical},he.prototype.properties=function(){return this.feature&&this.feature.properties||{}},he.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,r=this.featureTileCoord,n=r.x,a=r.y,i=n*t-e[0],o=a*t-e[1];return this.featureDistanceData.bearing[0]*i+this.featureDistanceData.bearing[1]*o}return 0},he.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=c.parse(e)),t};const me=he;var ve=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};ve.prototype.evaluate=function(e){return this._evaluate(e,this.args)},ve.prototype.eachChild=function(e){this.args.forEach(e)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},ve.parse=function(e,t){var r,n=e[0],a=ve.definitions[n];if(!a)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(a)?a[0]:a.type,o=Array.isArray(a)?[[a[1],a[2]]]:a.overloads,s=o.filter((function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1})),u=null,l=0,p=s;l<p.length;l+=1){var c=p[l],d=c[0],y=c[1];u=new Je(t.registry,t.path,null,t.scope);for(var h=[],m=!1,v=1;v<e.length;v++){var g=e[v],b=Array.isArray(d)?d[v-1]:d.type,x=u.parse(g,1+h.length,b);if(!x){m=!0;break}h.push(x)}if(!m)if(Array.isArray(d)&&d.length!==h.length)u.error("Expected "+d.length+" arguments, but found "+h.length+" instead.");else{for(var w=0;w<h.length;w++){var k=Array.isArray(d)?d[w]:d.type,S=h[w];u.concat(w+1).checkSubtype(k,S.type)}if(0===u.errors.length)return new ve(n,i,y,h)}}if(f(!u||u.errors.length>0),1===s.length)(r=t.errors).push.apply(r,u.errors);else{for(var z=(s.length?s:o).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(R).join(", ")+")":"("+R(t.type)+"...)"})).join(" | "),M=[],C=1;C<e.length;C++){var A=t.parse(e[C],1+M.length);if(!A)return null;M.push(R(A.type))}t.error("Expected arguments of type "+z+", but found ("+M.join(", ")+") instead.")}return null},ve.register=function(e,t){for(var r in f(!ve.definitions),ve.definitions=t,t)e[r]=ve};const ge=ve;var be=function(e,t,r){this.type=F,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};be.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,O);if(!n)return null;var a=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,O);if(!a)return null;var i=null;return r.locale&&!(i=t.parse(r.locale,1,q))?null:new be(n,a,i)},be.prototype.evaluate=function(e){return new U(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},be.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},be.prototype.outputDefined=function(){return!1},be.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};const xe=be;S(338);var we=8192;function ke(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Se(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function ze(e,t){var r,n=(180+e[0])/360,a=(r=e[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360),i=Math.pow(2,t.z);return[Math.round(n*i*we),Math.round(a*i*we)]}function Me(e,t,r){return t[1]>e[1]!=r[1]>e[1]&&e[0]<(r[0]-t[0])*(e[1]-t[1])/(r[1]-t[1])+t[0]}function Ce(e,t){for(var r,n,a,i,o,s,u,l=!1,p=0,c=t.length;p<c;p++)for(var f=t[p],d=0,y=f.length;d<y-1;d++){if(r=e,n=f[d],a=f[d+1],void 0,void 0,void 0,void 0,i=r[0]-n[0],o=r[1]-n[1],s=r[0]-a[0],i*(u=r[1]-a[1])-s*o==0&&i*s<=0&&o*u<=0)return!1;Me(e,f[d],f[d+1])&&(l=!l)}return l}function Ae(e,t){for(var r=0;r<t.length;r++)if(Ce(e,t[r]))return!0;return!1}function Te(e,t,r,n){var a=e[0]-r[0],i=e[1]-r[1],o=t[0]-r[0],s=t[1]-r[1],u=n[0]-r[0],l=n[1]-r[1],p=a*l-u*i,c=o*l-u*s;return p>0&&c<0||p<0&&c>0}function qe(e,t,r){for(var n=0,a=r;n<a.length;n+=1)for(var i=a[n],o=0;o<i.length-1;++o)if(s=e,u=t,l=i[o],p=i[o+1],void 0,void 0,void 0,void 0,d=[u[0]-s[0],u[1]-s[1]],0!=(c=[p[0]-l[0],p[1]-l[1]])[0]*(f=d)[1]-c[1]*f[0]&&Te(s,u,l,p)&&Te(l,p,s,u))return!0;var s,u,l,p,c,f,d;return!1}function Oe(e,t){for(var r=0;r<e.length;++r)if(!Ce(e[r],t))return!1;for(var n=0;n<e.length-1;++n)if(qe(e[n],e[n+1],t))return!1;return!0}function je(e,t){for(var r=0;r<t.length;r++)if(Oe(e,t[r]))return!0;return!1}function _e(e,t,r){for(var n=[],a=0;a<e.length;a++){for(var i=[],o=0;o<e[a].length;o++){var s=ze(e[a][o],r);ke(t,s),i.push(s)}n.push(i)}return n}function Ee(e,t,r){for(var n=[],a=0;a<e.length;a++){var i=_e(e[a],t,r);n.push(i)}return n}function Fe(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){var a=.5*n,i=e[0]-r[0]>a?-n:r[0]-e[0]>a?n:0;0===i&&(i=e[0]-r[2]>a?-n:r[2]-e[0]>a?n:0),e[0]+=i}ke(t,e)}function Pe(e,t,r,n){for(var a=Math.pow(2,n.z)*we,i=[n.x*we,n.y*we],o=[],s=0,u=e;s<u.length;s+=1)for(var l=0,p=u[s];l<p.length;l+=1){var c=p[l],f=[c.x+i[0],c.y+i[1]];Fe(f,t,r,a),o.push(f)}return o}function De(e,t,r,n){for(var a,i=Math.pow(2,n.z)*we,o=[n.x*we,n.y*we],s=[],u=0,l=e;u<l.length;u+=1){for(var p=[],c=0,f=l[u];c<f.length;c+=1){var d=f[c],y=[d.x+o[0],d.y+o[1]];ke(t,y),p.push(y)}s.push(p)}if(t[2]-t[0]<=i/2){(a=t)[0]=a[1]=1/0,a[2]=a[3]=-1/0;for(var h=0,m=s;h<m.length;h+=1)for(var v=0,g=m[h];v<g.length;v+=1)Fe(g[v],t,r,i)}return s}var Ie=function(e,t){this.type=O,this.geojson=e,this.geometries=t};Ie.parse=function(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if($(e[1])){var r=e[1];if("FeatureCollection"===r.type)for(var n=0;n<r.features.length;++n){var a=r.features[n].geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new Ie(r,r.features[n].geometry)}else if("Feature"===r.type){var i=r.geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new Ie(r,r.geometry)}else if("Polygon"===r.type||"MultiPolygon"===r.type)return new Ie(r,r)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Ie.prototype.evaluate=function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],a=e.canonicalID();if("Polygon"===t.type){var i=_e(t.coordinates,n,a),o=Pe(e.geometry(),r,n,a);if(!Se(r,n))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!Ce(u[s],i))return!1}if("MultiPolygon"===t.type){var l=Ee(t.coordinates,n,a),p=Pe(e.geometry(),r,n,a);if(!Se(r,n))return!1;for(var c=0,f=p;c<f.length;c+=1)if(!Ae(f[c],l))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],a=e.canonicalID();if("Polygon"===t.type){var i=_e(t.coordinates,n,a),o=De(e.geometry(),r,n,a);if(!Se(r,n))return!1;for(var s=0,u=o;s<u.length;s+=1)if(!Oe(u[s],i))return!1}if("MultiPolygon"===t.type){var l=Ee(t.coordinates,n,a),p=De(e.geometry(),r,n,a);if(!Se(r,n))return!1;for(var c=0,f=p;c<f.length;c+=1)if(!je(f[c],l))return!1}return!0}(e,this.geometries)}return!1},Ie.prototype.eachChild=function(){},Ie.prototype.outputDefined=function(){return!0},Ie.prototype.serialize=function(){return["within",this.geojson]};const Re=Ie;function Le(e){if(e instanceof ge){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Re)return!1;var t=!0;return e.eachChild((function(e){t&&!Le(e)&&(t=!1)})),t}function Ne(e){if(e instanceof ge&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!Ne(e)&&(t=!1)})),t}function Ge(e,t){if(e instanceof ge&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!Ge(e,t)&&(r=!1)})),r}var Be=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};Be.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new Be(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},Be.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},Be.prototype.eachChild=function(){},Be.prototype.outputDefined=function(){return!1},Be.prototype.serialize=function(){return["var",this.name]};const Ve=Be;var Ue=function(e,t,r,n,a){void 0===t&&(t=[]),void 0===n&&(n=new C),void 0===a&&(a=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=n,this.errors=a,this.expectedType=r};Ue.prototype.parse=function(e,t,r,n,a){return void 0===a&&(a={}),t?this.concat(t,r,n)._parse(e,a):this._parse(e,a)},Ue.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new oe(t,[e]):"coerce"===r?new de(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var a=this.registry[n];if(a){var i=a.parse(e,this);if(!i)return null;if(this.expectedType){var o=this.expectedType,s=i.type;if("string"!==o.kind&&"number"!==o.kind&&"boolean"!==o.kind&&"object"!==o.kind&&"array"!==o.kind||"value"!==s.kind)if("color"!==o.kind&&"formatted"!==o.kind&&"resolvedImage"!==o.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(o,s))return null}else i=r(i,o,t.typeAnnotation||"coerce");else i=r(i,o,t.typeAnnotation||"assert")}if(!(i instanceof te)&&"resolvedImage"!==i.type.kind&&We(i)){var u=new me;try{i=new te(i.type,i.evaluate(u))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},Ue.prototype.concat=function(e,t,r){var n="number"==typeof e?this.path.concat(e):this.path,a=r?this.scope.concat(r):this.scope;return new Ue(this.registry,n,t||null,a,this.errors)},Ue.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new k(n,e))},Ue.prototype.checkSubtype=function(e,t){var r=N(e,t);return r&&this.error(r),r};const Je=Ue;function We(e){if(e instanceof Ve)return We(e.boundExpression);if(e instanceof ge&&"error"===e.name)return!1;if(e instanceof xe)return!1;if(e instanceof Re)return!1;var t=e instanceof de||e instanceof oe,r=!0;return e.eachChild((function(e){r=t?r&&We(e):r&&e instanceof te})),!!r&&Le(e)&&Ge(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function He(e,t){for(var r,n,a=e.length-1,i=0,o=a,s=0;i<=o;)if(r=e[s=Math.floor((i+o)/2)],n=e[s+1],r<=t){if(s===a||t<n)return s;i=s+1}else{if(!(r>t))throw new ne("Input is not a number.");o=s-1}return 0}var Ke=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,a=r;n<a.length;n+=1){var i=a[n],o=i[0],s=i[1];this.labels.push(o),this.outputs.push(s)}};Ke.parse=function(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");var r=t.parse(e[1],1,T);if(!r)return null;var n=[],a=null;t.expectedType&&"value"!==t.expectedType.kind&&(a=t.expectedType);for(var i=1;i<e.length;i+=2){var o=1===i?-1/0:e[i],s=e[i+1],u=i,l=i+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=t.parse(s,l,a);if(!p)return null;a=a||p.type,n.push([o,p])}return new Ke(a,r,n)},Ke.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var a=t.length;return n>=t[a-1]?r[a-1].evaluate(e):r[He(t,n)].evaluate(e)},Ke.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},Ke.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},Ke.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};const Ze=Ke;var Ye=S(946);function $e(e,t,r){return e*(1-r)+t*r}function Xe(e,t,r){return new c($e(e.r,t.r,r),$e(e.g,t.g,r),$e(e.b,t.b,r),$e(e.a,t.a,r))}function Qe(e,t,r){return e.map((function(e,n){return $e(e,t[n],r)}))}var et=.95047,tt=1.08883,rt=4/29,nt=6/29,at=3*nt*nt,it=Math.PI/180,ot=180/Math.PI;function st(e){return e>.008856451679035631?Math.pow(e,1/3):e/at+rt}function ut(e){return e>nt?e*e*e:at*(e-rt)}function lt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function pt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ct(e){var t=pt(e.r),r=pt(e.g),n=pt(e.b),a=st((.4124564*t+.3575761*r+.1804375*n)/et),i=st((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*i-16,a:500*(a-i),b:200*(i-st((.0193339*t+.119192*r+.9503041*n)/tt)),alpha:e.a}}function ft(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*ut(t),r=et*ut(r),n=tt*ut(n),new c(lt(3.2404542*r-1.5371385*t-.4985314*n),lt(-.969266*r+1.8760108*t+.041556*n),lt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function dt(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var yt={forward:ct,reverse:ft,interpolate:function(e,t,r){return{l:$e(e.l,t.l,r),a:$e(e.a,t.a,r),b:$e(e.b,t.b,r),alpha:$e(e.alpha,t.alpha,r)}}},ht={forward:function(e){var t=ct(e),r=t.l,n=t.a,a=t.b,i=Math.atan2(a,n)*ot;return{h:i<0?i+360:i,c:Math.sqrt(n*n+a*a),l:r,alpha:e.a}},reverse:function(e){var t=e.h*it,r=e.c;return ft({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:dt(e.h,t.h,r),c:$e(e.c,t.c,r),l:$e(e.l,t.l,r),alpha:$e(e.alpha,t.alpha,r)}}},mt=function(e,t,r,n,a){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var i=0,o=a;i<o.length;i+=1){var s=o[i],u=s[0],l=s[1];this.labels.push(u),this.outputs.push(l)}};function vt(e,t,r,n){var a=n-r,i=e-r;return 0===a?0:1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}mt.interpolationFactor=function(e,t,r,n){var a=0;if("exponential"===e.name)a=vt(t,e.base,r,n);else if("linear"===e.name)a=vt(t,1,r,n);else if("cubic-bezier"===e.name){var i=e.controlPoints;a=new Ye(i[0],i[1],i[2],i[3]).solve(vt(t,1,r,n))}return a},mt.parse=function(e,t){var r=e[0],n=e[1],a=e[2],i=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(a=t.parse(a,2,T)))return null;var u=[],l=null;"interpolate-hcl"===r||"interpolate-lab"===r?l=j:t.expectedType&&"value"!==t.expectedType.kind&&(l=t.expectedType);for(var p=0;p<i.length;p+=2){var c=i[p],f=i[p+1],d=p+3,y=p+4;if("number"!=typeof c)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',d);if(u.length&&u[u.length-1][0]>=c)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',d);var h=t.parse(f,y,l);if(!h)return null;l=l||h.type,u.push([c,h])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new mt(l,r,n,a,u):t.error("Type "+R(l)+" is not interpolatable.")},mt.prototype.evaluate=function(t){var r=this.labels,n=this.outputs;if(1===r.length)return n[0].evaluate(t);var a=this.input.evaluate(t);if(a<=r[0])return n[0].evaluate(t);var i=r.length;if(a>=r[i-1])return n[i-1].evaluate(t);var o=He(r,a),s=r[o],u=r[o+1],l=mt.interpolationFactor(this.interpolation,a,s,u),p=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?e[this.type.kind.toLowerCase()](p,c,l):"interpolate-hcl"===this.operator?ht.reverse(ht.interpolate(ht.forward(p),ht.forward(c),l)):yt.reverse(yt.interpolate(yt.forward(p),yt.forward(c),l))},mt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1)e(r[t])},mt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))},mt.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};const gt=mt;var bt=function(e,t){this.type=e,this.args=t};bt.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var a=[],i=0,o=e.slice(1);i<o.length;i+=1){var s=o[i],u=t.parse(s,1+a.length,r,void 0,{typeAnnotation:"omit"});if(!u)return null;r=r||u.type,a.push(u)}f(r);var l=n&&a.some((function(e){return N(n,e.type)}));return new bt(l?E:r,a)},bt.prototype.evaluate=function(e){for(var t,r=null,n=0,a=0,i=this.args;a<i.length;a+=1){if(n++,(r=i[a].evaluate(e))&&r instanceof Z&&!r.available&&(t||(t=r),r=null,n===this.args.length))return t;if(null!==r)break}return r},bt.prototype.eachChild=function(e){this.args.forEach(e)},bt.prototype.outputDefined=function(){return this.args.every((function(e){return e.outputDefined()}))},bt.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};const xt=bt;var wt=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};wt.prototype.evaluate=function(e){return this.result.evaluate(e)},wt.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1)e(r[t][1]);e(this.result)},wt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var a=e[n];if("string"!=typeof a)return t.error("Expected string, but found "+typeof a+" instead.",n);if(/[^a-zA-Z0-9_]/.test(a))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var i=t.parse(e[n+1],n+1);if(!i)return null;r.push([a,i])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return o?new wt(r,o):null},wt.prototype.outputDefined=function(){return this.result.outputDefined()},wt.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t],a=n[0],i=n[1];e.push(a,i.serialize())}return e.push(this.result.serialize()),e};const kt=wt;var St=function(e,t,r){this.type=e,this.index=t,this.input=r};St.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,T),n=t.parse(e[2],2,I(t.expectedType||E));if(!r||!n)return null;var a=n.type;return new St(a.itemType,r,n)},St.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new ne("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new ne("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new ne("Array index must be an integer, but found "+t+" instead.");return r[t]},St.prototype.eachChild=function(e){e(this.index),e(this.input)},St.prototype.outputDefined=function(){return!1},St.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};const zt=St;var Mt=function(e,t){this.type=O,this.needle=e,this.haystack=t};Mt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,E),n=t.parse(e[2],2,E);return r&&n?G(r.type,[O,q,T,A,E])?new Mt(r,n):t.error("Expected first argument to be of type boolean, string, number or null, but found "+R(r.type)+" instead"):null},Mt.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!r)return!1;if(!B(t,["boolean","string","number","null"]))throw new ne("Expected first argument to be of type boolean, string, number or null, but found "+R(X(t))+" instead.");if(!B(r,["string","array"]))throw new ne("Expected second argument to be of type array or string, but found "+R(X(r))+" instead.");return r.indexOf(t)>=0},Mt.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},Mt.prototype.outputDefined=function(){return!0},Mt.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};const Ct=Mt;var At=function(e,t,r){this.type=T,this.needle=e,this.haystack=t,this.fromIndex=r};At.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,E),n=t.parse(e[2],2,E);if(!r||!n)return null;if(!G(r.type,[O,q,T,A,E]))return t.error("Expected first argument to be of type boolean, string, number or null, but found "+R(r.type)+" instead");if(4===e.length){var a=t.parse(e[3],3,T);return a?new At(r,n,a):null}return new At(r,n)},At.prototype.evaluate=function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!B(t,["boolean","string","number","null"]))throw new ne("Expected first argument to be of type boolean, string, number or null, but found "+R(X(t))+" instead.");if(!B(r,["string","array"]))throw new ne("Expected second argument to be of type array or string, but found "+R(X(r))+" instead.");if(this.fromIndex){var n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)},At.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},At.prototype.outputDefined=function(){return!1},At.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};const Tt=At;var qt=function(e,t,r,n,a,i){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=a,this.otherwise=i};qt.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var a={},i=[],o=2;o<e.length-1;o+=2){var s=e[o],u=e[o+1];Array.isArray(s)||(s=[s]);var l=t.concat(o);if(0===s.length)return l.error("Expected at least one branch label.");for(var p=0,c=s;p<c.length;p+=1){var d=c[p];if("number"!=typeof d&&"string"!=typeof d)return l.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return l.error("Numeric branch labels must be integer values.");if(r){if(l.checkSubtype(r,X(d)))return null}else r=X(d);if(void 0!==a[String(d)])return l.error("Branch labels must be unique.");a[String(d)]=i.length}var y=t.parse(u,o,n);if(!y)return null;n=n||y.type,i.push(y)}var h=t.parse(e[1],1,E);if(!h)return null;var m=t.parse(e[e.length-1],e.length-1,n);return m?(f(r&&n),"value"!==h.type.kind&&t.concat(1).checkSubtype(r,h.type)?null:new qt(r,n,h,a,i,m)):null},qt.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(X(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},qt.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},qt.prototype.outputDefined=function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()},qt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},a=0,i=Object.keys(this.cases).sort();a<i.length;a+=1){var o=i[a];void 0===(c=n[this.cases[o]])?(n[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[c][1].push(o)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},u=0,l=r;u<l.length;u+=1){var p=l[u],c=p[0],f=p[1];1===f.length?t.push(s(f[0])):t.push(f.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};const Ot=qt;var jt=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};jt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],a=1;a<e.length-1;a+=2){var i=t.parse(e[a],a,O);if(!i)return null;var o=t.parse(e[a+1],a+1,r);if(!o)return null;n.push([i,o]),r=r||o.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?(f(r),new jt(r,n,s)):null},jt.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],a=n[0],i=n[1];if(a.evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},jt.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],a=n[0],i=n[1];e(a),e(i)}e(this.otherwise)},jt.prototype.outputDefined=function(){return this.branches.every((function(e){return e[0],e[1].outputDefined()}))&&this.otherwise.outputDefined()},jt.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};const _t=jt;var Et=function(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n};Et.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,E),n=t.parse(e[2],2,T);if(!r||!n)return null;if(!G(r.type,[I(E),q,E]))return t.error("Expected first argument to be of type array or string, but found "+R(r.type)+" instead");if(4===e.length){var a=t.parse(e[3],3,T);return a?new Et(r.type,r,n,a):null}return new Et(r.type,r,n)},Et.prototype.evaluate=function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!B(t,["string","array"]))throw new ne("Expected first argument to be of type array or string, but found "+R(X(t))+" instead.");if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)},Et.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},Et.prototype.outputDefined=function(){return!1},Et.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};const Ft=Et;function Pt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Dt(e,t,r,n){return 0===n.compare(t,r)}function It(e,t,r){var n="=="!==e&&"!="!==e;return function(){function a(e,t,r){this.type=O,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return a.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],i=t.parse(e[1],1,E);if(!i)return null;if(!Pt(r,i.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+R(i.type)+"'.");var o=t.parse(e[2],2,E);if(!o)return null;if(!Pt(r,o.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+R(o.type)+"'.");if(i.type.kind!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind)return t.error("Cannot compare types '"+R(i.type)+"' and '"+R(o.type)+"'.");n&&("value"===i.type.kind&&"value"!==o.type.kind?i=new oe(o.type,[i]):"value"!==i.type.kind&&"value"===o.type.kind&&(o=new oe(i.type,[o])));var s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==o.type.kind&&"value"!==i.type.kind&&"value"!==o.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,F)))return null}return new a(i,o,s)},a.prototype.evaluate=function(a){var i=this.lhs.evaluate(a),o=this.rhs.evaluate(a);if(n&&this.hasUntypedArgument){var s=X(i),u=X(o);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new ne('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var l=X(i),p=X(o);if("string"!==l.kind||"string"!==p.kind)return t(a,i,o)}return this.collator?r(a,i,o,this.collator.evaluate(a)):t(a,i,o)},a.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},a.prototype.outputDefined=function(){return!0},a.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},a}()}var Rt=It("==",(function(e,t,r){return t===r}),Dt),Lt=It("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!Dt(0,t,r,n)})),Nt=It("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),Gt=It(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),Bt=It("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),Vt=It(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),Ut=function(e,t,r,n,a){this.type=q,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=a};Ut.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,T);if(!r)return null;var n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var a=null;if(n.locale&&!(a=t.parse(n.locale,1,q)))return null;var i=null;if(n.currency&&!(i=t.parse(n.currency,1,q)))return null;var o=null;if(n["min-fraction-digits"]&&!(o=t.parse(n["min-fraction-digits"],1,T)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,T))?null:new Ut(r,a,i,o,s)},Ut.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Ut.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Ut.prototype.outputDefined=function(){return!1},Ut.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};const Jt=Ut;var Wt=function(e){this.type=T,this.input=e};Wt.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+R(r.type)+" instead."):new Wt(r):null},Wt.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ne("Expected value to be of type string or array, but found "+R(X(t))+" instead.")},Wt.prototype.eachChild=function(e){e(this.input)},Wt.prototype.outputDefined=function(){return!1},Wt.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Ht={"==":Rt,"!=":Lt,">":Gt,"<":Nt,">=":Vt,"<=":Bt,array:oe,at:zt,boolean:oe,case:_t,coalesce:xt,collator:xe,format:ue,image:pe,in:Ct,"index-of":Tt,interpolate:gt,"interpolate-hcl":gt,"interpolate-lab":gt,length:Wt,let:kt,literal:te,match:Ot,number:oe,"number-format":Jt,object:oe,slice:Ft,step:Ze,string:oe,"to-boolean":de,"to-color":de,"to-number":de,"to-string":de,var:Ve,within:Re};function Kt(e,t){var r=t[0],n=t[1],a=t[2],i=t[3];r=r.evaluate(e),n=n.evaluate(e),a=a.evaluate(e);var o=i?i.evaluate(e):1,s=Y(r,n,a,o);if(s)throw new ne(s);return new c(r/255*o,n/255*o,a/255*o,o)}function Zt(e,t){return e in t}function Yt(e,t){var r=t[e];return void 0===r?null:r}function $t(e){return{type:e}}ge.register(Ht,{error:[{kind:"error"},[q],function(e,t){var r=t[0];throw new ne(r.evaluate(e))}],typeof:[q,[E],function(e,t){return R(X(t[0].evaluate(e)))}],"to-rgba":[I(T,4),[j],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[j,[T,T,T],Kt],rgba:[j,[T,T,T,T],Kt],has:{type:O,overloads:[[[q],function(e,t){return Zt(t[0].evaluate(e),e.properties())}],[[q,_],function(e,t){var r=t[0],n=t[1];return Zt(r.evaluate(e),n.evaluate(e))}]]},get:{type:E,overloads:[[[q],function(e,t){return Yt(t[0].evaluate(e),e.properties())}],[[q,_],function(e,t){var r=t[0],n=t[1];return Yt(r.evaluate(e),n.evaluate(e))}]]},"feature-state":[E,[q],function(e,t){return Yt(t[0].evaluate(e),e.featureState||{})}],properties:[_,[],function(e){return e.properties()}],"geometry-type":[q,[],function(e){return e.geometryType()}],id:[E,[],function(e){return e.id()}],zoom:[T,[],function(e){return e.globals.zoom}],pitch:[T,[],function(e){return e.globals.pitch||0}],"distance-from-center":[T,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[T,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[T,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[T,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[E,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[T,$t(T),function(e,t){for(var r=0,n=0,a=t;n<a.length;n+=1)r+=a[n].evaluate(e);return r}],"*":[T,$t(T),function(e,t){for(var r=1,n=0,a=t;n<a.length;n+=1)r*=a[n].evaluate(e);return r}],"-":{type:T,overloads:[[[T,T],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)-n.evaluate(e)}],[[T],function(e,t){return-t[0].evaluate(e)}]]},"/":[T,[T,T],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)/n.evaluate(e)}],"%":[T,[T,T],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)%n.evaluate(e)}],ln2:[T,[],function(){return Math.LN2}],pi:[T,[],function(){return Math.PI}],e:[T,[],function(){return Math.E}],"^":[T,[T,T],function(e,t){var r=t[0],n=t[1];return Math.pow(r.evaluate(e),n.evaluate(e))}],sqrt:[T,[T],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[T,[T],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN10}],ln:[T,[T],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[T,[T],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN2}],sin:[T,[T],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[T,[T],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[T,[T],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[T,[T],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[T,[T],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[T,[T],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[T,$t(T),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[T,$t(T),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[T,[T],function(e,t){var r=t[0];return Math.abs(r.evaluate(e))}],round:[T,[T],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[T,[T],function(e,t){var r=t[0];return Math.floor(r.evaluate(e))}],ceil:[T,[T],function(e,t){var r=t[0];return Math.ceil(r.evaluate(e))}],"filter-==":[O,[q,E],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[O,[E],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[O,[q],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[O,[q,E],function(e,t){var r=t[0],n=t[1],a=e.properties()[r.value],i=n.value;return typeof a==typeof i&&a<i}],"filter-id-<":[O,[E],function(e,t){var r=t[0],n=e.id(),a=r.value;return typeof n==typeof a&&n<a}],"filter->":[O,[q,E],function(e,t){var r=t[0],n=t[1],a=e.properties()[r.value],i=n.value;return typeof a==typeof i&&a>i}],"filter-id->":[O,[E],function(e,t){var r=t[0],n=e.id(),a=r.value;return typeof n==typeof a&&n>a}],"filter-<=":[O,[q,E],function(e,t){var r=t[0],n=t[1],a=e.properties()[r.value],i=n.value;return typeof a==typeof i&&a<=i}],"filter-id-<=":[O,[E],function(e,t){var r=t[0],n=e.id(),a=r.value;return typeof n==typeof a&&n<=a}],"filter->=":[O,[q,E],function(e,t){var r=t[0],n=t[1],a=e.properties()[r.value],i=n.value;return typeof a==typeof i&&a>=i}],"filter-id->=":[O,[E],function(e,t){var r=t[0],n=e.id(),a=r.value;return typeof n==typeof a&&n>=a}],"filter-has":[O,[E],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[O,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[O,[I(q)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[O,[I(E)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[O,[q,I(E)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[O,[q,I(E)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var a=r+n>>1;if(t[a]===e)return!0;t[a]>e?n=a-1:r=a+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:O,overloads:[[[O,O],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)&&n.evaluate(e)}],[$t(O),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(!n[r].evaluate(e))return!1;return!0}]]},any:{type:O,overloads:[[[O,O],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)||n.evaluate(e)}],[$t(O),function(e,t){for(var r=0,n=t;r<n.length;r+=1)if(n[r].evaluate(e))return!0;return!1}]]},"!":[O,[O],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[O,[q],function(e,t){var r=t[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(r.evaluate(e))}],upcase:[q,[q],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[q,[q],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[q,$t(E),function(e,t){return t.map((function(t){return Q(t.evaluate(e))})).join("")}],"resolved-locale":[q,[F],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});const Xt=Ht;function Qt(e){return{result:"success",value:e}}function er(e){return{result:"error",value:e}}function tr(e){return!!e.expression&&e.expression.interpolated}function rr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function nr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function ar(e){return e}function ir(e,r){var n,a,i,o="color"===r.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||void 0!==e.property,l=s||!u,p=e.type||(tr(r)?"exponential":"interval");if(o&&((e=w({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],c.parse(e[1])]}))),e.default?e.default=c.parse(e.default):e.default=c.parse(r.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!t[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===p)n=lr;else if("interval"===p)n=ur;else if("categorical"===p){n=sr,a=Object.create(null);for(var f=0,d=e.stops;f<d.length;f+=1){var y=d[f];a[y[0]]=y[1]}i=typeof e.stops[0][0]}else{if("identity"!==p)throw new Error('Unknown function type "'+p+'"');n=pr}if(s){for(var h={},m=[],v=0;v<e.stops.length;v++){var g=e.stops[v],b=g[0].zoom;void 0===h[b]&&(h[b]={zoom:b,type:e.type,property:e.property,default:e.default,stops:[]},m.push(b)),h[b].stops.push([g[0].value,g[1]])}for(var x=[],k=0,S=m;k<S.length;k+=1){var z=S[k];x.push([h[z].zoom,ir(h[z],r)])}var M={name:"linear"};return{kind:"composite",interpolationType:M,interpolationFactor:gt.interpolationFactor.bind(void 0,M),zoomStops:x.map((function(e){return e[0]})),evaluate:function(t,n){var a=t.zoom;return lr({stops:x,base:e.base},r,a).evaluate(a,n)}}}if(l){var C="exponential"===p?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:C,interpolationFactor:gt.interpolationFactor.bind(void 0,C),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(t){var o=t.zoom;return n(e,r,o,a,i)}}}return{kind:"source",evaluate:function(t,o){var s=o&&o.properties?o.properties[e.property]:void 0;return void 0===s?or(e.default,r.default):n(e,r,s,a,i)}}}function or(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function sr(e,t,r,n,a){return or(typeof r===a?n[r]:void 0,e.default,t.default)}function ur(e,t,r){if("number"!==rr(r))return or(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var a=He(e.stops.map((function(e){return e[0]})),r);return e.stops[a][1]}function lr(r,n,a){var i=void 0!==r.base?r.base:1;if("number"!==rr(a))return or(r.default,n.default);var o=r.stops.length;if(1===o)return r.stops[0][1];if(a<=r.stops[0][0])return r.stops[0][1];if(a>=r.stops[o-1][0])return r.stops[o-1][1];var s=He(r.stops.map((function(e){return e[0]})),a),u=function(e,t,r,n){var a=n-r,i=e-r;return 0===a?0:1===t?i/a:(Math.pow(t,i)-1)/(Math.pow(t,a)-1)}(a,i,r.stops[s][0],r.stops[s+1][0]),l=r.stops[s][1],p=r.stops[s+1][1],c=e[n.type]||ar;if(r.colorSpace&&"rgb"!==r.colorSpace){var f=t[r.colorSpace];c=function(e,t){return f.reverse(f.interpolate(f.forward(e),f.forward(t),u))}}return"function"==typeof l.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=l.evaluate.apply(void 0,e),n=p.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return c(r,n,u)}}:c(l,p,u)}function pr(e,t,r){return"color"===t.type?r=c.parse(r):"formatted"===t.type?r=H.fromString(r.toString()):"resolvedImage"===t.type?r=Z.fromString(r.toString()):rr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),or(r,e.default,t.default)}var cr=function(e,t){var r;this.expression=e,this._warningHistory={},this._evaluator=new me,this._defaultValue=t?"color"===(r=t).type&&nr(r.default)?new c(0,0,0,0):"color"===r.type?c.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function fr(e,t){var r=new Je(Xt,[],t?function(e){var t={color:j,string:q,number:T,enum:q,boolean:O,formatted:P,resolvedImage:D};return"array"===e.type?I(t[e.value]||E,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Qt(new cr(n,t)):(f(r.errors.length>0),er(r.errors))}cr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,a,i,o,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=a||null,this._evaluator.formattedSection=i,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)},cr.prototype.evaluate=function(e,t,r,n,a,i,o,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=a||null,this._evaluator.formattedSection=i||null,this._evaluator.featureTileCoord=o||null,this._evaluator.featureDistanceData=s||null;try{var u=this.expression.evaluate(this._evaluator);if(null==u||"number"==typeof u&&u!=u)return this._defaultValue;if(this._enumValues&&!(u in this._enumValues))throw new ne("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(u)+" instead.");return u}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var dr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Ne(t.expression)};dr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,a,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,a,i)},dr.prototype.evaluate=function(e,t,r,n,a,i){return this._styleExpression.evaluate(e,t,r,n,a,i)};var yr=function(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Ne(t.expression),this.interpolationType=n};function hr(e,t){if("error"===(e=fr(e,t)).result)return e;var r,n=e.value.expression,a=Le(n);if(!a&&"data-driven"!==(r=t)["property-type"]&&"cross-faded-data-driven"!==r["property-type"])return er([new k("","data expressions not supported")]);var i=Ge(n,["zoom","pitch","distance-from-center"]);if(!i&&!function(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}(t))return er([new k("","zoom expressions not supported")]);var o=vr(n);if(!o&&!i)return er([new k("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof k)return er([o]);if(o instanceof gt&&!tr(t))return er([new k("",'"interpolate" expressions cannot be used with this property')]);if(!o)return Qt(new dr(a?"constant":"source",e.value));var s=o instanceof gt?o.interpolation:void 0;return Qt(new yr(a?"camera":"composite",e.value,o.labels,s))}yr.prototype.evaluateWithoutErrorHandling=function(e,t,r,n,a,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,a,i)},yr.prototype.evaluate=function(e,t,r,n,a,i){return this._styleExpression.evaluate(e,t,r,n,a,i)},yr.prototype.interpolationFactor=function(e,t,r){return this.interpolationType?gt.interpolationFactor(this.interpolationType,e,t,r):0};var mr=function(e,t){this._parameters=e,this._specification=t,w(this,ir(this._parameters,this._specification))};function vr(e){var t=null;if(e instanceof kt)t=vr(e.result);else if(e instanceof xt)for(var r=0,n=e.args;r<n.length;r+=1){var a=n[r];if(t=vr(a))break}else(e instanceof Ze||e instanceof gt)&&e.input instanceof ge&&"zoom"===e.input.name&&(t=e);return t instanceof k||e.eachChild((function(e){var r=vr(e);r instanceof k?t=r:!t&&r?t=new k("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new k("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function gr(e){if(Array.isArray(e))return e.map(gr);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=gr(e[r]);return t}return function(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}(e)}mr.deserialize=function(e){return new mr(e._parameters,e._specification)},mr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var br=S(840);const xr=br,wr=function(e,t){if(void 0===t&&(t="fill"),null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};kr(e)||(e=qr(e));var r=e,n=!0;try{n=function(e){if(!Mr(e))return e;var t=gr(e);return zr(t),Sr(t)}(r)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n"+JSON.stringify(r,null,2)+"\n        ")}var a=xr["filter_"+t],i=fr(n,a),o=null;if("error"===i.result)throw new Error(i.value.map((function(e){return e.key+": "+e.message})).join(", "));o=function(e,t,r){return i.value.evaluate(e,t,{},r)};var s=null,u=null;if(n!==r){var l=fr(r,a);if("error"===l.result)throw new Error(l.value.map((function(e){return e.key+": "+e.message})).join(", "));s=function(e,t,r,n,a){return l.value.evaluate(e,t,{},r,void 0,void 0,n,a)},u=!Le(l.value.expression)}return{filter:o=o,dynamicFilter:s||void 0,needGeometry:Tr(n),needFeature:!!u}};function kr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!kr(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}function Sr(e){if(!Array.isArray(e))return e;var t=function(e){if(Cr.has(e[0]))for(var t=1;t<e.length;t++)if(Mr(e[t]))return!0;return e}(e);return!0===t?t:t.map((function(e){return Sr(e)}))}function zr(e){var t=!1,r=[];if("case"===e[0]){for(var n=1;n<e.length-1;n+=2)t=t||Mr(e[n]),r.push(e[n+1]);r.push(e[e.length-1])}else if("match"===e[0]){t=t||Mr(e[1]);for(var a=2;a<e.length-1;a+=2)r.push(e[a+1]);r.push(e[e.length-1])}else if("step"===e[0]){t=t||Mr(e[1]);for(var i=1;i<e.length-1;i+=2)r.push(e[i+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(r)));for(var o=1;o<e.length;o++)zr(e[o])}function Mr(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,r=1;r<e.length;r++)if(Mr(e[r]))return!0;return!1}var Cr=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Ar(e,t){return e<t?-1:e>t?1:0}function Tr(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Tr(e[t]))return!0;return!1}function qr(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?Or(e[1],e[2],"=="):"!="===r?Er(Or(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Or(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(qr))):"all"===r?["all"].concat(e.slice(1).map(qr)):"none"===r?["all"].concat(e.slice(1).map(qr).map(Er)):"in"===r?jr(e[1],e.slice(2)):"!in"===r?Er(jr(e[1],e.slice(2))):"has"===r?_r(e[1]):"!has"===r?Er(_r(e[1])):"within"!==r||e}function Or(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function jr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(Ar)]]:["filter-in-small",e,["literal",t]]}}function _r(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Er(e){return["!",e]}const Fr=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Pr(e,t){var r={};for(var n in e)"ref"!==n&&(r[n]=e[n]);return Fr.forEach((function(e){e in t&&(r[e]=t[e])})),r}var Dr=S(523),Ir=S(422),Rr=S(42),Lr="https://api.mapbox.com";function Nr(e){var t="mapbox://";return 0!==e.indexOf(t)?"":e.slice(t.length)}function Gr(e,t){var r=Nr(e);if(!r)return decodeURI(new URL(e,location.href).href);var n="styles/";if(0!==r.indexOf(n))throw new Error("unexpected style url: "+e);var a=r.slice(n.length);return Lr+"/styles/v1/"+a+"?&access_token="+t}function Br(e,t,r,n){var a=new URL(e,n),i=Nr(e);return i?"https://{a-d}.tiles.mapbox.com/v4/"+i+"/{z}/{x}/{y}.vector.pbf?access_token="+t:t?(a.searchParams.set(r,t),decodeURI(a.href)):decodeURI(a.href)}function Vr(e){return e*Math.PI/180}var Ur=function(){for(var e=[],t=78271.51696402048;e.length<=24;t/=2)e.push(t);return e}();function Jr(e,t){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(e,t);var r=document.createElement("canvas");return r.width=e,r.height=t,r}var Wr={};function Hr(e,t,r){if(void 0===r&&(r={}),t in Wr)return Wr[t];var n=r.transformRequest&&r.transformRequest(t,e)||new Request(t);n.headers.get("Accept")||n.headers.set("Accept","application/json");var a=fetch(n).then((function(e){return delete Wr[t],e.ok?e.json():Promise.reject(new Error("Error fetching source "+t))})).catch((function(e){return delete Wr[t],Promise.reject(new Error("Error fetching source "+t))}));return Wr[t]=a,a}function Kr(e,t){if("string"!=typeof e)return Promise.resolve(e);if(!e.trim().startsWith("{"))return Hr("Style",e=Gr(e,t.accessToken),t);try{var r=JSON.parse(e);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}var Zr={};function Yr(e,t,r){void 0===r&&(r={});var n=[t,JSON.stringify(e)].toString(),a=Zr[n];if(!a||r.transformRequest){var i=e.url;if(i){var o=Br(i,r.accessToken,r.accessTokenParam||"access_token",t||location.href);a=i.startsWith("mapbox://")?Promise.resolve((0,Rr.assign)({},e,{url:void 0,tiles:o})):Hr("Source",o,r).then((function(e){for(var t=0,n=e.tiles.length;t<n;++t){var a=Br(e.tiles[t],r.accessToken,r.accessTokenParam||"access_token",o||location.href);if(r.transformRequest){var i=r.transformRequest(a,"Tiles");i instanceof Request&&(a=decodeURI(i.url))}e.tiles[t]=a}return Promise.resolve(e)}))}else e=(0,Rr.assign)({},e,{tiles:e.tiles.map((function(e){return Br(e,r.accessToken,r.accessTokenParam||"access_token",t||location.href)}))}),a=Promise.resolve((0,Rr.assign)({},e));r.transformRequest||(Zr[n]=a)}return a}var $r,Xr=Array(256).join(" ");function Qr(e,t){if(t>=.05){for(var r="",n=e.split("\n"),a=Xr.slice(0,Math.round(t/.1)),i=0,o=n.length;i<o;++i)i>0&&(r+="\n"),r+=n[i].split("").join(a);return r}return e}function en(){return $r||($r=Jr(1,1).getContext("2d")),$r}function tn(e,t){return en().measureText(e).width+(e.length-1)*t}var rn={};function nn(e,t,r,n){if(-1!==e.indexOf("\n")){for(var a=e.split("\n"),i=[],o=0,s=a.length;o<s;++o)i.push(nn(a[o],t,r,n));return i.join("\n")}var u=r+","+t+","+e+","+n,l=rn[u];if(!l){var p=e.split(" ");if(p.length>1){var c=en();c.font=t;for(var f=c.measureText("M").width*r,d="",y=[],h=0,m=p.length;h<m;++h){var v=p[h],g=d+(d?" ":"")+v;tn(g,n)<=f?d=g:(d&&y.push(d),d=v)}d&&y.push(d);for(var b=0,x=y.length;b<x&&x>1;++b){var w=y[b];if(tn(w,n)<.35*f){var k=b>0?tn(y[b-1],n):1/0,S=b<x-1?tn(y[b+1],n):1/0;y.splice(b,1),x-=1,k<S?(y[b-1]+=" "+w,b-=1):y[b]=w+" "+y[b]}}for(var z=0,M=y.length-1;z<M;++z){var C=y[z],A=y[z+1];if(tn(C,n)>.7*f&&tn(A,n)<.6*f){var T=C.split(" "),q=T.pop();tn(q,n)<.2*f&&(y[z]=T.join(" "),y[z+1]=q+" "+A),M-=1}}l=y.join("\n")}else l=e;l=Qr(l,n),rn[u]=l}return l}var an,on=/font-family: ?([^;]*);/,sn=/("|')/g;function un(e){if(!an){an={};for(var t=document.styleSheets,r=0,n=t.length;r<n;++r){var a=t[r];try{var i=a.rules||a.cssRules;if(i)for(var o=0,s=i.length;o<s;++o){var u=i[o];if(5==u.type){var l=u.cssText.match(on);an[l[1].replace(sn,"")]=!0}}}catch(e){}}}return e in an}var ln={},pn=Ir.getNames();function cn(e){var t=e.toString();if(t in ln)return e;for(var r=e.map((function(e){var t=Dr(e,1).split(" ");return[t.slice(3).join(" ").replace(/"/g,""),t[1]+t[0]]})),n=0,a=r.length;n<a;++n){var i=r[n],o=i[0];if(!un(o)&&-1!==pn.indexOf(o)){var s="https://fonts.googleapis.com/css?family="+o.replace(/ /g,"+")+":"+i[1];if(!document.querySelector('link[href="'+s+'"]')){var u=document.createElement("link");u.href=s,u.rel="stylesheet",document.head.appendChild(u)}}}return ln[t]=!0,e}var fn,dn,yn={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},hn={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},mn={},vn={zoom:0};function gn(e,t,r,n,a,i,o){var s=e.id;i||(i={},console.warn("No functionCache provided to getValue()")),i[s]||(i[s]={});var u,l=i[s];if(!l[r]){var p=(e[t]||mn)[r],f=br[t+"_"+e.type][r];void 0===p&&(p=f.default);var h=(u=p,Array.isArray(u)&&u.length>0&&"string"==typeof u[0]&&u[0]in Xt);if(!h&&nr(p)&&(p=function(e,t){var r=e.stops;if(!r)return function(e,t){var r=["get",e.property];if(void 0===e.default)return"string"===t.type?["string",r]:r;if("enum"===t.type)return["match",r,Object.keys(t.values),r,e.default];var n=["color"===t.type?"to-color":t.type,r,d(e.default)];return"array"===t.type&&n.splice(1,0,t.value,t.length||null),n}(e,t);var n=r&&"object"==typeof r[0][0],a=n||void 0!==e.property,i=n||!a;return r=r.map((function(e){return!a&&t.tokens&&"string"==typeof e[1]?[e[0],x(e[1])]:[e[0],d(e[1])]})),n?function(e,t,r){for(var n={},a={},i=[],o=0;o<r.length;o++){var s=r[o],u=s[0].zoom;void 0===n[u]&&(n[u]={zoom:u,type:e.type,property:e.property,default:e.default},a[u]=[],i.push(u)),a[u].push([s[0].value,s[1]])}if("exponential"===b({},t)){for(var l=[y(e),["linear"],["zoom"]],p=0,c=i;p<c.length;p+=1){var f=c[p];g(l,f,m(n[f],t,a[f]),!1)}return l}for(var d=["step",["zoom"]],h=0,x=i;h<x.length;h+=1){var w=x[h];g(d,w,m(n[w],t,a[w]),!0)}return v(d),d}(e,t,r):i?function(e,t,r,n){void 0===n&&(n=["zoom"]);var a,i=b(e,t),o=!1;if("interval"===i)a=["step",n],o=!0;else{if("exponential"!==i)throw new Error('Unknown zoom function type "'+i+'"');var s=void 0!==e.base?e.base:1;a=[y(e),1===s?["linear"]:["exponential",s],n]}for(var u=0,l=r;u<l.length;u+=1){var p=l[u];g(a,p[0],p[1],o)}return v(a),a}(e,t,r):m(e,t,r)}(p,f),h=!0),h){var w=function(e,t){var r=hr(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return e.key+": "+e.message})).join(", "));return r.value}(p,f);l[r]=w.evaluate.bind(w)}else"color"==f.type&&(p=c.parse(p)),l[r]=function(){return p}}return vn.zoom=n,l[r](vn,a,o)}function bn(e,t,r,n,a){return a||console.warn("No filterCache provided to evaluateFilter()"),e in a||(a[e]=wr(t).filter),vn.zoom=n,a[e](vn,r)}var xn=!1;function wn(e){xn=e}function kn(e,t){if(e){if(!xn&&(0===e.a||0===t))return;var r=e.a;return t=void 0===t?1:t,0===r?"transparent":"rgba("+Math.round(255*e.r/r)+","+Math.round(255*e.g/r)+","+Math.round(255*e.b/r)+","+r*t+")"}return e}var Sn=/^([^]*)\{(.*)\}([^]*)$/;function zn(e,t){var r;do{if(r=e.match(Sn)){var n=t[r[2]]||"";e=r[1]+n+r[3]}}while(r);return e}var Mn=!1;function Cn(e){void 0===e&&(e=!1),Mn=e}function An(e,t,l,p,c,f,d){if(void 0===p&&(p=Ur),void 0===c&&(c=void 0),void 0===f&&(f=void 0),void 0===d&&(d=void 0),"string"==typeof t&&(t=JSON.parse(t)),8!=t.version)throw new Error("glStyle version 8 required.");var y,h;if(f)if("undefined"!=typeof Image){var m=new Image;m.crossOrigin="anonymous",m.onload=function(){y=m,h=[m.width,m.height],e.changed(),m.onload=null},m.src=f}else if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var v=self;v.postMessage({action:"loadImage",src:f}),v.addEventListener("message",(function(e){"imageLoaded"===e.data.action&&e.data.src===f&&(y=e.data.image,h=[y.width,y.height])}))}for(var g,b=function(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Pr(e[n],t[e[n].ref]));return e}(t.layers),x={},w=[],k={},S={},z={},M={},C=0,A=b.length;C<A;++C){var T=b[C],q=T.id;if("string"==typeof l&&T.source==l||-1!==l.indexOf(q)){var O=T["source-layer"];if(g){if(T.source!==g)throw new Error('Layer "'+q+'" does not use source "'+g)}else{g=T.source;var j=t.sources[g];if(!j)throw new Error('Source "'+g+'" is not defined');var _=j.type;if("vector"!==_&&"geojson"!==_)throw new Error('Source "'+g+'" is not of type "vector" or "geojson", but "'+_+'"')}var E=x[O];E||(E=[],x[O]=E),E.push({layer:T,index:C}),w.push(q)}}var F=new o,P=new n,D=[],I=function(t,l){var f=t.getProperties(),m=x[f.layer];if(m){var v=p.indexOf(l);-1==v&&(v=function(e,t){for(var r=0,n=t.length;r<n;++r)if(t[r]<e&&r+1<n){var a=t[r]/t[r+1];return r+Math.log(t[r]/e)/Math.log(a)}return n-1}(l,p));for(var g,b=yn[t.getGeometry().getType()],w={properties:f,type:b},C=e.get("mapbox-featurestate")[t.getId()],A=-1,T=0,q=m.length;T<q;++T){var O=m[T],j=O.layer,_=j.id,E=j.layout||mn,I=j.paint||mn;if(!("none"===E.visibility||"minzoom"in j&&v<j.minzoom||"maxzoom"in j&&v>=j.maxzoom)){var R=j.filter;if(!R||bn(_,R,w,v,M)){g=j;var L=void 0,N=void 0,G=void 0,B=void 0,V=void 0,U=void 0,J=O.index;if(3==b&&("fill"==j.type||"fill-extrusion"==j.type))if(N=gn(j,"paint",j.type+"-opacity",v,w,z,C),j.type+"-pattern"in I){var W=gn(j,"paint",j.type+"-pattern",v,w,z,C);if(W){var H="string"==typeof W?zn(W,f):W.toString();if(y&&c&&c[H]){++A,(U=D[A])&&U.getFill()&&!U.getStroke()&&!U.getText()||(U=new s({fill:new n}),D[A]=U),G=U.getFill(),U.setZIndex(J);var K=H+"."+N,Z=S[K];if(!Z){var Y=c[H],$=Jr(Y.width,Y.height),X=$.getContext("2d");X.globalAlpha=N,X.drawImage(y,Y.x,Y.y,Y.width,Y.height,0,0,Y.width,Y.height),Z=X.createPattern($,"repeat"),S[K]=Z}G.setColor(Z)}}}else L=kn(gn(j,"paint",j.type+"-color",v,w,z,C),N),j.type+"-outline-color"in I&&(V=kn(gn(j,"paint",j.type+"-outline-color",v,w,z,C),N)),V||(V=L),(L||V)&&(++A,(!(U=D[A])||L&&!U.getFill()||!L&&U.getFill()||V&&!U.getStroke()||!V&&U.getStroke()||U.getText())&&(U=new s({fill:L?new n:void 0,stroke:V?new o:void 0}),D[A]=U),L&&(G=U.getFill()).setColor(L),V&&((B=U.getStroke()).setColor(V),B.setWidth(.5)),U.setZIndex(J));if(1!=b&&"line"==j.type){L=!("line-pattern"in I)&&"line-color"in I?kn(gn(j,"paint","line-color",v,w,z,C),gn(j,"paint","line-opacity",v,w,z,C)):void 0;var Q=gn(j,"paint","line-width",v,w,z,C);L&&Q>0&&(++A,(U=D[A])&&U.getStroke()&&!U.getFill()&&!U.getText()||(U=new s({stroke:new o}),D[A]=U),(B=U.getStroke()).setLineCap(gn(j,"layout","line-cap",v,w,z,C)),B.setLineJoin(gn(j,"layout","line-join",v,w,z,C)),B.setMiterLimit(gn(j,"layout","line-miter-limit",v,w,z,C)),B.setColor(L),B.setWidth(Q),B.setLineDash(I["line-dasharray"]?gn(j,"paint","line-dasharray",v,w,z,C).map((function(e){return e*Q})):null),U.setZIndex(J))}var ee=!1,te=null,re=0,ne=void 0,ae=void 0,ie=void 0;if((1==b||2==b)&&"icon-image"in E){var oe=gn(j,"layout","icon-image",v,w,z,C);if(oe){ne="string"==typeof oe?zn(oe,f):oe.toString();var se=void 0;if(y&&c&&c[ne]){var ue=gn(j,"layout","icon-rotation-alignment",v,w,z,C);if(2==b){var le=t.getGeometry();if(le.getFlatMidpoint||le.getFlatMidpoints){var pe=le.getExtent();if(Math.sqrt(Math.max(Math.pow((pe[2]-pe[0])/l,2),Math.pow((pe[3]-pe[1])/l,2)))>150){var ce="MultiLineString"===le.getType()?le.getFlatMidpoints():le.getFlatMidpoint();if(dn||(dn=new i("Point",fn=[NaN,NaN],[],{},null)),se=dn,fn[0]=ce[0],fn[1]=ce[1],"line"===gn(j,"layout","symbol-placement",v,w,z,C)&&"map"===ue)for(var fe=le.getStride(),de=le.getFlatCoordinates(),ye=0,he=de.length-fe;ye<he;ye+=fe){var me=de[ye],ve=de[ye+1],ge=de[ye+fe],be=de[ye+fe+1],xe=Math.min(me,ge),we=Math.min(ve,be),ke=Math.max(me,ge),Se=Math.max(ve,be);if(ce[0]>=xe&&ce[0]<=ke&&ce[1]>=we&&ce[1]<=Se){re=Math.atan2(ve-be,ge-me);break}}}}}if(2!==b||se){var ze=gn(j,"layout","icon-size",v,w,z,C),Me=void 0!==I["icon-color"]?gn(j,"paint","icon-color",v,w,z,C):null;if(!Me||0!==Me.a){var Ce=ne+"."+ze;if(null!==Me&&(Ce+="."+Me),!(ae=k[Ce])){var Ae=c[ne];ae=new a({color:Me?[255*Me.r,255*Me.g,255*Me.b,Me.a]:void 0,img:y,imgSize:h,size:[Ae.width,Ae.height],offset:[Ae.x,Ae.y],rotateWithView:"map"===ue,scale:ze/Ae.pixelRatio,displacement:"icon-offset"in E?gn(j,"layout","icon-offset",v,w,z,C).map((function(e){return-e*Ae.pixelRatio})):void 0}),k[Ce]=ae}}ae&&(++A,(U=D[A])&&U.getImage()&&!U.getFill()&&!U.getStroke()||(U=new s,D[A]=U),U.setGeometry(se),ae.setRotation(re+Vr(gn(j,"layout","icon-rotate",v,w,z,C))),ae.setOpacity(gn(j,"paint","icon-opacity",v,w,z,C)),ae.setAnchor(hn[gn(j,"layout","icon-anchor",v,w,z,C)]),U.setImage(ae),te=U.getText(),U.setText(void 0),U.setZIndex(J),ee=!0,ie=!1)}else ie=!0}}}if(1==b&&"circle"===j.type){++A,(U=D[A])&&U.getImage()&&!U.getFill()&&!U.getStroke()||(U=new s,D[A]=U);var Te="circle-radius"in I?gn(j,"paint","circle-radius",v,w,z,C):5,qe=kn(gn(j,"paint","circle-stroke-color",v,w,z,C),gn(j,"paint","circle-stroke-opacity",v,w,z,C)),Oe=kn(gn(j,"paint","circle-color",v,w,z,C),gn(j,"paint","circle-opacity",v,w,z,C)),je=gn(j,"paint","circle-stroke-width",v,w,z,C),_e=Te+"."+qe+"."+Oe+"."+je;(ae=k[_e])||(ae=new r({radius:Te,stroke:qe&&je>0?new o({width:je,color:qe}):void 0,fill:Oe?new n({color:Oe}):void 0}),k[_e]=ae),U.setImage(ae),te=U.getText(),U.setText(void 0),U.setGeometry(void 0),U.setZIndex(J),ee=!0}var Ee=void 0,Fe=void 0,Pe=void 0,De=void 0,Ie=void 0,Re=void 0;if("text-field"in E){De=Math.round(gn(j,"layout","text-size",v,w,z,C));var Le=gn(j,"layout","text-font",v,w,z,C);Pe=gn(j,"layout","text-line-height",v,w,z,C),Fe=Dr(d?d(Le):Le,De,Pe),Ie=gn(j,"layout","text-letter-spacing",v,w,z,C),Re=gn(j,"layout","text-max-width",v,w,z,C);var Ne=gn(j,"layout","text-field",v,w,z,C);Ee="object"==typeof Ne&&Ne.sections?1===Ne.sections.length?Ne.toString():Ne.sections.reduce((function(e,t,r){var n=t.fontStack?t.fontStack.split(","):Le,a=Dr(d?d(n):n,De*(t.scale||1),Pe),i=t.text;if("\n"===i)return e.push("\n",""),e;if(2!=b){for(var o=0,s=(i=nn(i,a,Re,Ie).split("\n")).length;o<s;++o)o>0&&e.push("\n",""),e.push(i[o],a);return e}e.push(Qr(i,Ie),a)}),[]):zn(Ne,f).trim(),N=gn(j,"paint","text-opacity",v,w,z,C)}if(Ee&&N&&!ie){ee||(++A,(U=D[A])&&U.getText()&&!U.getFill()&&!U.getStroke()||(U=new s,D[A]=U),U.setImage(void 0),U.setGeometry(void 0)),U.getText()||U.setText(te||new u({padding:[2,2,2,2]})),te=U.getText();var Ge=E["text-transform"];"uppercase"==Ge?Ee=Array.isArray(Ee)?Ee.map((function(e,t){return t%2?e:e.toUpperCase()})):Ee.toUpperCase():"lowercase"==Ge&&(Ee=Array.isArray(Ee)?Ee.map((function(e,t){return t%2?e:e.toLowerCase()})):Ee.toLowerCase());var Be=Array.isArray(Ee)?Ee:2==b?Qr(Ee,Ie):nn(Ee,Fe,Re,Ie);te.setText(Be),te.setFont(Fe),te.setRotation(Vr(gn(j,"layout","text-rotate",v,w,z,C)));var Ve=gn(j,"layout","text-anchor",v,w,z,C),Ue=ee||1==b?"point":gn(j,"layout","symbol-placement",v,w,z,C);te.setPlacement(Ue),te.setOverflow("point"===Ue);var Je=gn(j,"paint","text-halo-width",v,w,z,C),We=gn(j,"layout","text-offset",v,w,z,C),He=gn(j,"paint","text-translate",v,w,z,C),Ke=0,Ze=0;if("point"==Ue){var Ye="center";-1!==Ve.indexOf("left")?(Ye="left",Ze=Je):-1!==Ve.indexOf("right")&&(Ye="right",Ze=-Je),te.setTextAlign(Ye);var $e=gn(j,"layout","text-rotation-alignment",v,w,z,C);te.setRotateWithView("map"==$e)}else te.setMaxAngle(Vr(gn(j,"layout","text-max-angle",v,w,z,C))*Ee.length/Be.length),te.setTextAlign(),te.setRotateWithView(!1);var Xe="middle";0==Ve.indexOf("bottom")?(Xe="bottom",Ke=-Je-.5*(Pe-1)*De):0==Ve.indexOf("top")&&(Xe="top",Ke=Je+.5*(Pe-1)*De),te.setTextBaseline(Xe),te.setOffsetX(We[0]*De+Ze+He[0]),te.setOffsetY(We[1]*De+Ke+He[1]),P.setColor(kn(gn(j,"paint","text-color",v,w,z,C),N)),te.setFill(P);var Qe=kn(gn(j,"paint","text-halo-color",v,w,z,C),N);if(Qe){F.setColor(Qe),Je*=2;var et=.5*De;F.setWidth(Je<=et?Je:et),te.setStroke(F)}else te.setStroke(void 0);var tt=gn(j,"layout","text-padding",v,w,z,C),rt=te.getPadding();tt!==rt[0]&&(rt[0]=tt,rt[1]=tt,rt[2]=tt,rt[3]=tt),U.setZIndex(J)}}}}return A>-1?(D.length=A+1,Mn&&("function"==typeof t.set?t.set("mapbox-layer",g):t.getProperties()["mapbox-layer"]=g),D):void 0}};return e.setStyle(I),e.set("mapbox-source",g),e.set("mapbox-layers",w),e.set("mapbox-featurestate",{}),I}var Tn=S(198),qn=S(993),On=S(195),jn=S(895),_n=S(491),En=S(561),Fn=S(255),Pn=S(31),Dn=S(984),In=S(729),Rn=S(744),Ln=S(757),Nn=S(860);function Gn(e,t){return t.accessToken||(t=(0,Rr.assign)({},t),new URL(e).searchParams.forEach((function(e,r){t.accessToken=e,t.accessTokenParam=r}))),t}function Bn(e,t,r,n,a){var i,o,s;return void 0===r&&(r=""),void 0===n&&(n={}),void 0===a&&(a=void 0),"string"==typeof n?(i=n,s={}):(i=n.styleUrl,s=n),a||(a=s.resolutions),i||"string"!=typeof t||t.trim().startsWith("{")||(i=t),i&&(i=i.startsWith("data:")?location.href:Gr(i,s.accessToken),s=Gn(i,s)),new Promise((function(n,u){Kr(t,s).then((function(t){if(8!=t.version)return u(new Error("glStyle version 8 required."));if(!(e instanceof Fn||e instanceof Dn))return u(new Error("Can only apply to VectorLayer or VectorTileLayer"));var l,p,c,f=e instanceof Dn?"vector":"geojson";if(r?o=Array.isArray(r)?t.layers.find((function(e){return e.id===r[0]})).source:r:(o=Object.keys(t.sources).find((function(e){return t.sources[e].type===f})),r=o),!o)return u(new Error("No "+f+" source found in the glStyle."));function d(){if(e instanceof Dn)return Zn(t.sources[o],i,s).then((function(t){var r=e.getSource();if(r?t!==r&&(r.setTileUrlFunction(t.getTileUrlFunction()),r.format_||(r.format_=t.format_),r.getAttributions()||r.setAttributions(t.getAttributions()),r.getTileLoadFunction()===In.defaultLoadFunction&&r.setTileLoadFunction(t.getTileLoadFunction()),(0,Nn.equivalent)(r.getProjection(),t.getProjection())&&(r.tileGrid=t.getTileGrid())):e.setSource(t),!isFinite(e.getMaxResolution())&&!isFinite(e.getMinZoom())){var n=e.getSource().getTileGrid();e.setMaxResolution(n.getResolution(n.getMinZoom()))}}));var r=Qn(t.sources[o],i,s),n=e.getSource();return n?r!==n&&(n.getAttributions()||n.setAttributions(r.getAttributions()),n.format_||(n.format_=r.getFormat()),n.url_=r.getUrl()):e.setSource(r),Promise.resolve()}function y(){c||t.sprite&&!l?c?(e.setStyle(c),d().then(n).catch(u)):u(new Error("Something went wrong trying to apply style.")):(c=An(e,t,r,a,l,p,cn),e.getStyle()?d().then(n).catch(u):u(new Error("Nothing to show for source ["+o+"]")))}if(t.sprite){var h=new URL(function(e,t,r){var n=Nr(e);if(!n)return decodeURI(new URL(e,r).href);var a="sprites/";if(0!==n.indexOf(a))throw new Error("unexpected sprites url: "+e);var i=n.slice(a.length);return Lr+"/styles/v1/"+i+"/sprite?access_token="+t}(t.sprite,s.accessToken,i||location.href)),m=.5==(window.devicePixelRatio>=1.5?.5:1)?"@2x":"",v=h.origin+h.pathname+m+".json"+h.search;new Promise((function(e,t){Hr("Sprite",v,s).then(e).catch((function(r){Hr("Sprite",v=h.origin+h.pathname+".json"+h.search,s).then(e).catch(t)}))})).then((function(e){void 0===e&&u(new Error("No sprites found.")),l=e,p=h.origin+h.pathname+m+".png"+h.search,y()})).catch((function(e){u(new Error("Sprites cannot be loaded: "+v+": "+e.message))}))}else y()})).catch(u)}))}var Vn={};function Un(e,t){var r={id:t.id,type:t.type},n={};function a(a){var i=t.layout||{},o=t.paint||{};r.paint=o;var s,u,l="function"==typeof e.getSource?e.getSource().getTileGrid().getZForResolution(a):e.getView().getZoom(),p="function"==typeof e.getTargetElement?e.getTargetElement():void 0;if(void 0!==o["background-color"]&&(s=gn(r,"paint","background-color",l,Vn,n),p&&(p.style.background=c.parse(s).toString())),void 0!==o["background-opacity"]&&(u=gn(r,"paint","background-opacity",l,Vn,n),p&&(p.style.opacity=u)),"none"!=i.visibility)return kn(s,u);p&&(p.style.backgroundColor="",p.style.opacity="")}if("function"==typeof e.getTargetElement)e.getTargetElement()&&a(),e.on(["change:resolution","change:target"],a);else{if("function"!=typeof e.setBackground)throw new Error("Unable to apply background.");e.setBackground(a)}}function Jn(e,t){t.layers.some((function(t){if("background"===t.type)return Un(e,t),!0}))}function Wn(e,t,r){return void 0===r&&(r={}),"object"==typeof t?(Jn(e,t),Promise.resolve()):Kr(t,r).then((function(t){Jn(e,t)}))}function Hn(e,t){var r;return e.some((function(e){if(e.id==t)return r=e.source,!0})),r}function Kn(e){var t=e.bounds;if(t){var r=(0,Nn.fromLonLat)([t[0],t[1]]),n=(0,Nn.fromLonLat)([t[2],t[3]]);return[r[0],r[1],n[0],n[1]]}}function Zn(e,t,r){return new Promise((function(n,a){Yr(e,t,r).then((function(e){var t=new _n({tileJSON:e}),r=t.getTileJSON(),a=t.getTileGrid(),i=Kn(r),o=r.minzoom||0,s=r.maxzoom||22,u=t.get("ol-source");if(void 0===u){var l={attributions:t.getAttributions(),format:new qn,tileGrid:new jn({origin:a.getOrigin(0),extent:i||a.getExtent(),minZoom:o,resolutions:Ur.slice(0,s+1),tileSize:512})};Array.isArray(r.tiles)?l.urls=r.tiles:l.url=r.tiles,e.olSourceOptions&&Object.assign(l,e.olSourceOptions),u=new In(l),t.set("ol-source",u)}n(u)})).catch(a)}))}function Yn(e,t,r){var n=new Dn({declutter:!0,visible:!1});return Zn(e,t,r).then((function(e){n.setSource(e)})).catch((function(e){n.setSource(void 0)})),n}function $n(e,t,r){var n=new En;return Yr(e,t,r).then((function(t){var r=new _n({transition:0,crossOrigin:"anonymous",tileJSON:t}),a=Kn(t),i=r.getTileGrid(),o=e.tileSize||t.tileSize||512,s=t.minzoom||0,u=t.maxzoom||22;r.tileGrid=new jn({origin:i.getOrigin(0),extent:a||i.getExtent(),minZoom:s,resolutions:(0,Ln.createXYZ)({maxZoom:u,tileSize:o}).getResolutions(),tileSize:o});var l=r.getTileUrlFunction();r.setTileUrlFunction((function(e,t,n){var a=l(e,t,n);if(-1!=a.indexOf("{bbox-epsg-3857}")){var i=r.getTileGrid().getTileCoordExtent(e);a=a.replace("{bbox-epsg-3857}",i.toString())}return a})),n.setSource(r)})).catch((function(e){n.setSource(void 0)})),n}var Xn=new Tn;function Qn(e,t,r){var n=e.data,a={};if("string"==typeof n){var i=Br(n,r.accessToken,r.accessTokenParam||"access_token",t||location.href);if(r.transformRequest){var o=r.transformRequest(i,"GeoJSON");o instanceof Request&&(i=encodeURI(o.url))}a.url=i}else a.features=Xn.readFeatures(n,{featureProjection:(0,Nn.getUserProjection)()||"EPSG:3857"});return new Pn((0,Rr.assign)({attributions:e.attribution,format:Xn},a))}function ea(e,t,r){return new Fn({declutter:!0,source:Qn(e,t,r),visible:!1})}function ta(e,t,r,n){var a=gn(e,"paint","raster-opacity",r.getZoom(),Vn,n);t.setOpacity(a)}function ra(e,t,r,n){var a=[],i=t.getView();i.isDef()||i.getRotation()||i.getResolutions()||(i=new Rn((0,Rr.assign)(i.getProperties(),{maxResolution:Ur[0]})),t.setView(i)),"center"in e&&!i.getCenter()&&i.setCenter((0,Nn.fromLonLat)(e.center)),"zoom"in e&&void 0===i.getZoom()&&i.setResolution(Ur[0]/Math.pow(2,e.zoom)),i.getCenter()&&void 0!==i.getZoom()||i.fit(i.getProjection().getExtent(),{nearest:!0,size:t.getSize()});for(var o,s,u,l,p,c=e.layers,f=[],d=0,y=c.length;d<y;++d){var h=(o=c[d]).type;if("heatmap"==h||"hillshade"==h)throw new Error(h+" layers are not supported");if("background"==h)Un(t,o);else{if((l=o.source||Hn(c,o.ref))!=u){if(f.length&&(a.push(aa(p,f,e,r,t,n)),f=[]),"vector"==(s=e.sources[l]).type)p=Yn(s,r,n);else if("raster"==s.type){(p=$n(s,r,n)).setVisible(!o.layout||"none"!==o.layout.visibility);var m={};i.on("change:resolution",ta.bind(this,o,p,i,m)),ta(o,p,i,m)}else"geojson"==s.type&&(p=ea(s,r,n));u=l,p&&p.set("mapbox-source",u)}f.push(o.id)}}return a.push(aa(p,f,e,r,t,n)),t.set("mapbox-style",e),Promise.all(a)}function na(e,t,r){var n;if(void 0===r&&(r={}),("string"==typeof e||e instanceof HTMLElement)&&(e=new On({target:e})),"string"==typeof t){var a=t.startsWith("data:")?location.href:Gr(t,r.accessToken);r=Gn(a,r),n=new Promise((function(n,i){Kr(t,r).then((function(t){ra(t,e,a,r).then((function(){n(e)})).catch(i)})).catch((function(e){i(new Error("Could not load "+t+": "+e.message))}))}))}else n=new Promise((function(n,a){ra(t,e,"",r).then((function(){n(e)})).catch(a)}));return n}function aa(e,t,r,n,a,i){void 0===i&&(i={});for(var o=24,s=0,u=r.layers,l=0,p=u.length;l<p;++l){var c=u[l];-1!==t.indexOf(c.id)&&(o=Math.min("minzoom"in c?c.minzoom:0,o),s=Math.max("maxzoom"in c?c.maxzoom:24,s))}return new Promise((function(u,l){var p=function(){var a=e.getSource();if(a&&"error"!==a.getState()){if("getTileGrid"in a){var p=a.getTileGrid();if(p){var c=p.getMinZoom();(o>0||c>0)&&e.setMaxResolution(Math.min(Ur[o],p.getResolution(c))+1e-9),s<24&&e.setMinResolution(Ur[s]+1e-9)}}a instanceof Pn||a instanceof In?Bn(e,r,t,(0,Rr.assign)({styleUrl:n},i)).then((function(){e.setVisible(!0),u()})).catch(l):u()}else l(new Error("Error accessing data for source "+e.get("mapbox-source")))};e.set("mapbox-layers",t),-1===a.getLayers().getArray().indexOf(e)&&a.addLayer(e),e.getSource()?p():e.once("change:source",p)}))}function ia(e,t){for(var r=e.getLayers().getArray(),n=0,a=r.length;n<a;++n){var i=r[n].get("mapbox-layers");if(i&&-1!==i.indexOf(t))return r[n]}}function oa(e,t){for(var r=[],n=e.getAllLayers(),a=0,i=n.length;a<i;++a)n[a].get("mapbox-source")===t&&r.push(n[a]);return r}function sa(e,t){for(var r=e.getLayers().getArray(),n=0,a=r.length;n<a;++n){var i=r[n].getSource();if(r[n].get("mapbox-source")===t)return i}}function ua(e,t,r){for(var n=("getLayers"in e?oa(e,t.source):[e]),a=0,i=n.length;a<i;++a){var o=n[a].get("mapbox-featurestate");if(!o)throw new Error('Map or layer for source "'+t.source+'" not found.');r?o[t.id]=r:delete o[t.id],n[a].changed()}}function la(e,t){for(var r=("getLayers"in e?oa(e,t.source):[e]),n=0,a=r.length;n<a;++n){var i=r[n].get("mapbox-featurestate");if(i&&i[t.id])return i[t.id]}return null}})(),z})()));
//# sourceMappingURL=olms.js.map